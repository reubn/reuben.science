<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><link rel="apple-touch-icon" sizes="57x57" href="/favicon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/favicon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/favicon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/favicon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/favicon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/favicon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/favicon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/favicon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon-180x180.png"/><link rel="icon" type="image/svg+xml" href="/favicon.svg"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png"/><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><meta name="msapplication-TileImage" content="/favicon-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><meta name="theme-color" content="#0E151B"/><link rel="alternate" type="application/rss+xml" href="https://reuben.science/rss.xml"/><noscript><style>[data-noscript="no"]{display: none!important}</style></noscript><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@_reubn"/><meta name="twitter:creator" content="@_reubn"/><meta property="og:locale" content="en_GB"/><title>Making My Interactive Memoji | Reuben</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Interactive Memoji for the Web"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2020-12-16T00:00:00.000Z"/><meta property="article:author" content="Reuben"/><meta property="article:tag" content="dev"/><meta property="og:title" content="Making My Interactive Memoji"/><meta property="og:description" content="Interactive Memoji for the Web"/><meta property="og:image" content="https://reuben.science/.assets/c38df9448ff1e5c25b94797dd4e4976e/header.webp"/><meta property="og:image:alt" content="Making My Interactive Memoji"/><meta property="og:image:width" content="1000"/><meta property="og:image:height" content="400"/><meta property="og:site_name" content="reuben.science"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://reuben.science/",
          "name": "Home"
        }
      },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "https://reuben.science/posts",
          "name": "Posts"
        }
      },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://reuben.science/posts/making-my-memoji",
          "name": "Making My Interactive Memoji"
        }
      }
     ]
  }</script><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "undefined"
    },
    "headline": "Making My Interactive Memoji",
    "image": [
      
     ],
    "datePublished": "2020-12-16T00:00:00.000Z",
    "dateModified": "2020-12-16T00:00:00.000Z",
    "author": [{"@type": "Person","name": "Reuben"}],
    "publisher": {
      "@type": "Organization",
      "name": "Reuben",
      "logo": {
        "@type": "ImageObject",
        "url": "undefined"
      }
    },
    "description": "Interactive Memoji for the Web"
  }</script><meta name="next-head-count" content="44"/><link rel="preload" href="/_next/static/css/e2c460f5baca7e6a4336.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e2c460f5baca7e6a4336.css" data-n-g=""/><link rel="preload" href="/_next/static/css/63a642d799ce404dba78.css" as="style"/><link rel="stylesheet" href="/_next/static/css/63a642d799ce404dba78.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-2659d7228c80206795f4.js" defer=""></script><script src="/_next/static/chunks/framework-3af989d3dbeb77832f99.js" defer=""></script><script src="/_next/static/chunks/main-86b87558166ba365e85a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d385cf08ee3cefec7716.js" defer=""></script><script src="/_next/static/chunks/734-3add5b544c321d45375b.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-799eeba77ad096f2a359.js" defer=""></script><script src="/_next/static/-p1fA106btvu5ImZtlfee/_buildManifest.js" defer=""></script><script src="/_next/static/-p1fA106btvu5ImZtlfee/_ssgManifest.js" defer=""></script></head><body><div id="__next"><section class="xmKl _20eh"><header class="_1Dbw"><svg role="banner" class="O6B4  _2tdE" viewBox="0 0 994 994"><defs><linearGradient x1="0%" y1="0%" x2="99.9884439%" y2="99.9884439%" id="orange"><stop stop-color="hsl(14, 100%, 61%)" offset="0.0115561319%"></stop><stop stop-color="hsl(32, 97%, 57%)" offset="100%"></stop></linearGradient><linearGradient x1="100%" y1="100%" x2="0%" y2="0%" id="yellow"><stop stop-color="hsl(56, 97%, 57%)" offset="0%"></stop><stop stop-color="hsl(51, 100%, 61%)" offset="100%"></stop></linearGradient><linearGradient x1="8.8817842e-14%" y1="8.8817842e-14%" x2="100%" y2="100%" id="red"><stop stop-color="hsl(0, 100%, 66%)" offset="0%"></stop><stop stop-color="hsl(0, 97%, 57%)" offset="100%"></stop></linearGradient><linearGradient x1="0%" y1="0%" x2="100%" y2="100%" id="blue"><stop stop-color="hsl(180, 90%, 48%)" offset="0%"></stop><stop stop-color="hsl(201, 97%, 50%)" offset="100%"></stop></linearGradient><linearGradient x1="0%" y1="-1.77635684e-13%" x2="100%" y2="100%" id="purple"><stop stop-color="hsl(244, 100%, 66%)" offset="0%"></stop><stop stop-color="hsl(274, 97%, 57%)" offset="100%"></stop></linearGradient><linearGradient x1="100%" y1="100%" x2="-7.10542736e-13%" y2="7.10542736e-13%" id="green"><stop stop-color="hsl(117, 100%, 66%)" offset="0%"></stop><stop stop-color="hsl(158, 97%, 57%)" offset="100%"></stop></linearGradient></defs><g><g transform="translate(-565.000000, -233.000000)"><g transform="translate(1062.000000, 730.000000) rotate(-45.000000) translate(-1062.000000, -730.000000) translate(712.000000, 378.000000)"><path d="M400,20.0660172 L400,230.066017 C400,241.111712 391.045695,250.066017 380,250.066017 L270,250.066017 C258.954305,250.066017 250,259.020322 250,270.066017 L250,280.066017 C250,291.111712 258.954305,300.066017 270,300.066017 L680,300.066017 C691.045695,300.066017 700,309.020322 700,320.066017 L700,680.066017 C700,691.111712 691.045695,700.066017 680,700.066017 L320,700.066017 C308.954305,700.066017 300,691.111712 300,680.066017 L300,620.066017 C300,609.020322 308.954305,600.066017 320,600.066017 L580,600.066017 C591.045695,600.066017 600,591.111712 600,580.066017 L600,570.066017 C600,559.020322 591.045695,550.066017 580,550.066017 L320,550.066017 C308.954305,550.066017 300,541.111712 300,530.066017 L300,470.066017 C300,459.020322 308.954305,450.066017 320,450.066017 L580,450.066017 C591.045695,450.066017 600,441.111712 600,430.066017 L600,420.066017 C600,409.020322 591.045695,400.066017 580,400.066017 L170,400.066017 C158.954305,400.066017 150,391.111712 150,380.066017 L150,170.066017 C150,159.020322 158.954305,150.066017 170,150.066017 L280,150.066017 C291.045695,150.066017 300,141.111712 300,130.066017 L300,120.066017 C300,109.020322 291.045695,100.066017 280,100.066017 L120,100.066017 C108.954305,100.066017 100,109.020322 100,120.066017 L100,380.066017 C100,391.111712 91.045695,400.066017 80,400.066017 L20,400.066017 C8.954305,400.066017 1.3527075e-15,391.111712 0,380.066017 L0,20.0660172 C-1.3527075e-15,9.02032218 8.954305,0.066017178 20,0.066017178 L380,0.066017178 C391.045695,0.066017178 400,9.02032218 400,20.0660172 Z" class="_3ien _2fZ3"></path><g transform="translate(0.000000, 0.066017)"><g transform="translate(449.933983, 0.000000)"><rect class="_2Bw9 _2fZ3 bfrX _1ZCv" x="0.066017178" y="0" rx="20px"></rect><rect class="_2Bw9 _2fZ3 _2PUw _1ZCv" x="2.84217094e-14" y="149.93" rx="20px"></rect><rect class="_2Bw9 _2fZ3 _3ro0 _1ZCv" x="150" y="149.93" rx="20px"></rect><rect class="_2Bw9 _2OMa bfrX undefined _1r6w " x="0.066017178" y="0" rx="20px"></rect><rect class="_2Bw9 _2OMa _2PUw undefined _1r6w " x="2.84217094e-14" y="149.93" rx="20px"></rect><rect class="_2Bw9 _2OMa _3ro0 undefined _1r6w " x="150" y="149.93" rx="20px"></rect></g><g transform="translate(0.000000, 452.933983)"><rect class="_2Bw9 _2fZ3 _1dVD _1ZCv" x="5.68434189e-14" y="0.066017178" rx="20px"></rect><rect class="_2Bw9 _2fZ3 _2dPH _1ZCv" x="150.066017" y="1.13686838e-13" rx="20px"></rect><rect class="_2Bw9 _2fZ3 LTDi _1ZCv" x="149.933983" y="149.996017" rx="20px"></rect><rect class="_2Bw9 _2OMa _1dVD undefined _1r6w " x="5.68434189e-14" y="0.066017178" rx="20px"></rect><rect class="_2Bw9 _2OMa _2dPH undefined _1r6w " x="150.066017" y="1.13686838e-13" rx="20px"></rect><rect class="_2Bw9 _2OMa LTDi undefined _1r6w " x="149.933983" y="149.996017" rx="20px"></rect></g></g></g></g></g></svg><nav class="_3VuR"><a class="Li5J " style="--link-underline:linear-gradient(135deg, var(--colours-pink-red) 0%, var(--colours-pink-red-hint) 100%)" href="/">Home</a><a class="Li5J " style="--link-underline:linear-gradient(135deg, var(--colours-blue) 0%, var(--colours-blue-hint) 100%)" href="/posts">Posts</a><a class="Li5J " style="--link-underline:linear-gradient(135deg, var(--colours-indigo) 0%, var(--colours-indigo-hint) 100%)" href="/snippets">Snippets</a></nav></header><main class="_3b8E"><article class="_2lHh"><section class="_3Hhg"><a class=" zXJC" style="--category-background:linear-gradient(135deg, var(--colours-blue) 0%, var(--colours-blue-hint) 100%)" href="/categories/dev">dev</a></section><h1 class="_52nV">Making My Interactive Memoji</h1><h2 class="_2zKY">Interactive Memoji for the Web</h2><noscript><img width="1000" height="400" src="/.assets/c38df9448ff1e5c25b94797dd4e4976e/header.webp" srcSet="/.assets/c38df9448ff1e5c25b94797dd4e4976e/header.webp 1000w, /.assets/09d9af82603cfcf70d08ebba1a9259c0/header.webp 2000w, /.assets/8949b84f84c14b6a3f20734e7103a3d4/header.webp 3000w, /.assets/3bfa76fd93b6908bd9a7c210d36af5be/header.webp 500w" sizes="min(1000px, 100vw - 1rem)" class="_3CP- GVgk" style="aspect-ratio:1000/400" loading="lazy" alt="üë¶üèª" data-noscript="yes"/></noscript><span class="KTY5 " data-noscript="no"></span><img width="1000" height="400" src="" srcSet="" sizes="min(1000px, 100vw - 1rem)" class="_3CP- GVgk" style="aspect-ratio:1000/400" loading="eager" alt="üë¶üèª" data-noscript="no"/><span class="u94h"><time dateTime="12/16/2020">12/16/2020</time><span class="_2z_F"><time time="PD0T0H16M" aria-label="Reading Time">16<!-- --> min<!-- -->s</time></span></span><div class="s2SM" id="HACK-POST-making-my-memoji"><h2 id="memoji"><a href="#memoji">Memoji?</a></h2><p>Introduced with iOS 12, Memoji is Apple&#x27;s progression of the ubiquitous emoji. Set apart from its ancestors, Memoji are personalised caricatures, offering near infinite options for customisation.</p><p>Memoji&#x27;s good looks haven&#x27;t gone unrecognised, and many people use static, immobile Memoji as profile pictures, or as avatars on their website. I wanted to follow suit, but by opting for the static image, you really lose their sense of personality and liveliness. I didn&#x27;t want to settle for this, and chose to explore the possibility of embedding <strong>dynamic</strong> and <strong>interactive</strong> Memoji instead.</p><p>The fact that they&#x27;re fully rigged, and tightly integrated with iOS devices&#x27; built-in face tracking technology makes them really easy to create, and perfect for the majority who don&#x27;t possess the artistic aptitude to use Blender for such tasks. This can look really great<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> however, and should be the default first choice for anyone who&#x27;s able to.</p><p>They&#x27;re not without their flaws though; tightly integrated into Apple&#x27;s own ecosystem, Memoji and the mechanisms to create them (ie <code>AvatarKit</code>) are <strong>not</strong> exposed outside of iMessage and FaceTime. Apple has a history of limiting the use of their emojis<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>, and I imagine the restrictions on Memoji stem from the same corporate delusion. They&#x27;ll probably also tell you that using Memoji outside of their ecosystem is not allowed. Oops üñï.</p><p><strong>So, this is what we&#x27;ll be creating:</strong></p><section class="Z3IL"><span class="_3rSm" role="img" aria-label="Animated Memoji of Me"><svg width="199px" height="168px" viewBox="0 0 199 168" version="1.1" xmlns="http://www.w3.org/2000/svg" class="_127y "><g id="Group" transform="rotate(-14.000000)"><path d="M5.03001264,19.5844039 C5.16334597,19.5844039 5.27667931,19.5377372 5.37001264,19.4444039 C5.46334597,19.3510705 5.51001264,19.2310705 5.51001264,19.0844039 L5.51001264,19.0844039 L5.51001264,6.08440388 C5.51001264,5.93773721 5.46334597,5.81773721 5.37001264,5.72440388 C5.27667931,5.63107055 5.16334597,5.58440388 5.03001264,5.58440388 L5.03001264,5.58440388 L2.73001264,5.58440388 C2.59667931,5.58440388 2.48334597,5.63107055 2.39001264,5.72440388 C2.29667931,5.81773721 2.25001264,5.93773721 2.25001264,6.08440388 L2.25001264,6.08440388 L2.25001264,19.0844039 C2.25001264,19.2310705 2.29667931,19.3510705 2.39001264,19.4444039 C2.48334597,19.5377372 2.59667931,19.5844039 2.73001264,19.5844039 L2.73001264,19.5844039 L5.03001264,19.5844039 Z M9.47001264,10.1444039 C9.68334597,10.1444039 9.84001264,10.0877372 9.94001264,9.97440388 C10.0400126,9.86107055 10.1166793,9.73773721 10.1700126,9.60440388 L10.1700126,9.60440388 L11.5500126,6.00440388 C11.5900126,5.93773721 11.6100126,5.85773721 11.6100126,5.76440388 C11.6100126,5.67107055 11.573346,5.58440388 11.5000126,5.50440388 C11.4266793,5.42440388 11.3366793,5.38440388 11.2300126,5.38440388 L11.2300126,5.38440388 L9.15001264,5.38440388 C8.93667931,5.38440388 8.77667931,5.45107055 8.67001264,5.58440388 C8.56334597,5.71773721 8.49667931,5.87107055 8.47001264,6.04440388 L8.47001264,6.04440388 L7.89001264,9.68440388 C7.87667931,9.83107055 7.90667931,9.94440388 7.98001264,10.0244039 C8.05334597,10.1044039 8.15001264,10.1444039 8.27001264,10.1444039 L8.27001264,10.1444039 L9.47001264,10.1444039 Z M16.1100126,19.5844039 C16.2566793,19.5844039 16.3766793,19.5377372 16.4700126,19.4444039 C16.563346,19.3510705 16.6100126,19.2310705 16.6100126,19.0844039 L16.6100126,19.0844039 L16.6100126,11.0244039 L19.1300126,15.7644039 C19.1966793,15.8844039 19.283346,15.9910705 19.3900126,16.0844039 C19.4966793,16.1777372 19.6366793,16.2244039 19.8100126,16.2244039 L19.8100126,16.2244039 L20.7500126,16.2244039 C20.9366793,16.2244039 21.083346,16.1777372 21.1900126,16.0844039 C21.2966793,15.9910705 21.3766793,15.8844039 21.4300126,15.7644039 L21.4300126,15.7644039 L23.9700126,11.0244039 L23.9700126,19.0844039 C23.9700126,19.2310705 24.0166793,19.3510705 24.1100126,19.4444039 C24.203346,19.5377372 24.3166793,19.5844039 24.4500126,19.5844039 L24.4500126,19.5844039 L26.4900126,19.5844039 C26.6366793,19.5844039 26.7566793,19.5377372 26.8500126,19.4444039 C26.943346,19.3510705 26.9900126,19.2310705 26.9900126,19.0844039 L26.9900126,19.0844039 L26.9900126,6.08440388 C26.9900126,5.93773721 26.943346,5.81773721 26.8500126,5.72440388 C26.7566793,5.63107055 26.6366793,5.58440388 26.4900126,5.58440388 L26.4900126,5.58440388 L24.6300126,5.58440388 C24.4300126,5.58440388 24.2800126,5.63773721 24.1800126,5.74440388 C24.0800126,5.85107055 24.0166793,5.93107055 23.9900126,5.98440388 L23.9900126,5.98440388 L20.2900126,12.7444039 L16.5900126,5.98440388 C16.563346,5.93107055 16.5000126,5.85107055 16.4000126,5.74440388 C16.3000126,5.63773721 16.1500126,5.58440388 15.9500126,5.58440388 L15.9500126,5.58440388 L14.0700126,5.58440388 C13.923346,5.58440388 13.803346,5.63107055 13.7100126,5.72440388 C13.6166793,5.81773721 13.5700126,5.93773721 13.5700126,6.08440388 L13.5700126,6.08440388 L13.5700126,19.0844039 C13.5700126,19.2310705 13.6166793,19.3510705 13.7100126,19.4444039 C13.803346,19.5377372 13.923346,19.5844039 14.0700126,19.5844039 L14.0700126,19.5844039 L16.1100126,19.5844039 Z M37.1500126,19.5844039 C37.283346,19.5844039 37.3966793,19.5377372 37.4900126,19.4444039 C37.583346,19.3510705 37.6300126,19.2310705 37.6300126,19.0844039 L37.6300126,19.0844039 L37.6300126,6.08440388 C37.6300126,5.93773721 37.583346,5.81773721 37.4900126,5.72440388 C37.3966793,5.63107055 37.283346,5.58440388 37.1500126,5.58440388 L37.1500126,5.58440388 L34.8500126,5.58440388 C34.7166793,5.58440388 34.603346,5.63107055 34.5100126,5.72440388 C34.4166793,5.81773721 34.3700126,5.93773721 34.3700126,6.08440388 L34.3700126,6.08440388 L34.3700126,19.0844039 C34.3700126,19.2310705 34.4166793,19.3510705 34.5100126,19.4444039 C34.603346,19.5377372 34.7166793,19.5844039 34.8500126,19.5844039 L34.8500126,19.5844039 L37.1500126,19.5844039 Z M43.1300126,19.5844039 C43.2766793,19.5844039 43.3966793,19.5377372 43.4900126,19.4444039 C43.583346,19.3510705 43.6300126,19.2310705 43.6300126,19.0844039 L43.6300126,19.0844039 L43.6300126,11.1644039 L48.9300126,19.2244039 C48.9566793,19.2644039 49.0166793,19.3344039 49.1100126,19.4344039 C49.203346,19.5344039 49.3500126,19.5844039 49.5500126,19.5844039 L49.5500126,19.5844039 L51.3900126,19.5844039 C51.5366793,19.5844039 51.6566793,19.5344039 51.7500126,19.4344039 C51.843346,19.3344039 51.8900126,19.2177372 51.8900126,19.0844039 L51.8900126,19.0844039 L51.8900126,6.08440388 C51.8900126,5.93773721 51.843346,5.81773721 51.7500126,5.72440388 C51.6566793,5.63107055 51.5366793,5.58440388 51.3900126,5.58440388 L51.3900126,5.58440388 L49.3500126,5.58440388 C49.203346,5.58440388 49.083346,5.63107055 48.9900126,5.72440388 C48.8966793,5.81773721 48.8500126,5.93773721 48.8500126,6.08440388 L48.8500126,6.08440388 L48.8500126,14.2644039 L43.5300126,5.94440388 C43.503346,5.89107055 43.443346,5.81773721 43.3500126,5.72440388 C43.2566793,5.63107055 43.1100126,5.58440388 42.9100126,5.58440388 L42.9100126,5.58440388 L41.0700126,5.58440388 C40.9366793,5.58440388 40.823346,5.63107055 40.7300126,5.72440388 C40.6366793,5.81773721 40.5900126,5.93773721 40.5900126,6.08440388 L40.5900126,6.08440388 L40.5900126,19.0844039 C40.5900126,19.2310705 40.6366793,19.3510705 40.7300126,19.4444039 C40.823346,19.5377372 40.9366793,19.5844039 41.0700126,19.5844039 L41.0700126,19.5844039 L43.1300126,19.5844039 Z M60.6500126,19.5844039 C60.7966793,19.5844039 60.9166793,19.5377372 61.0100126,19.4444039 C61.103346,19.3510705 61.1500126,19.2310705 61.1500126,19.0844039 L61.1500126,19.0844039 L61.1500126,8.38440388 L64.7700126,8.38440388 C64.9166793,8.38440388 65.0366793,8.33773721 65.1300126,8.24440388 C65.223346,8.15107055 65.2700126,8.03107055 65.2700126,7.88440388 L65.2700126,7.88440388 L65.2700126,6.08440388 C65.2700126,5.93773721 65.223346,5.81773721 65.1300126,5.72440388 C65.0366793,5.63107055 64.9166793,5.58440388 64.7700126,5.58440388 L64.7700126,5.58440388 L54.2900126,5.58440388 C54.1566793,5.58440388 54.043346,5.63107055 53.9500126,5.72440388 C53.8566793,5.81773721 53.8100126,5.93773721 53.8100126,6.08440388 L53.8100126,6.08440388 L53.8100126,7.88440388 C53.8100126,8.03107055 53.8566793,8.15107055 53.9500126,8.24440388 C54.043346,8.33773721 54.1566793,8.38440388 54.2900126,8.38440388 L54.2900126,8.38440388 L57.9300126,8.38440388 L57.9300126,19.0844039 C57.9300126,19.2310705 57.9766793,19.3510705 58.0700126,19.4444039 C58.163346,19.5377372 58.283346,19.5844039 58.4300126,19.5844039 L58.4300126,19.5844039 L60.6500126,19.5844039 Z M76.9100126,19.5844039 C77.0566793,19.5844039 77.1766793,19.5377372 77.2700126,19.4444039 C77.363346,19.3510705 77.4100126,19.2310705 77.4100126,19.0844039 L77.4100126,19.0844039 L77.4100126,17.4844039 C77.4100126,17.3377372 77.363346,17.2177372 77.2700126,17.1244039 C77.1766793,17.0310705 77.0566793,16.9844039 76.9100126,16.9844039 L76.9100126,16.9844039 L70.2700126,16.9844039 L70.2700126,13.7844039 L76.3100126,13.7844039 C76.4566793,13.7844039 76.5766793,13.7344039 76.6700126,13.6344039 C76.763346,13.5344039 76.8100126,13.4177372 76.8100126,13.2844039 L76.8100126,13.2844039 L76.8100126,11.8044039 C76.8100126,11.6577372 76.763346,11.5377372 76.6700126,11.4444039 C76.5766793,11.3510705 76.4566793,11.3044039 76.3100126,11.3044039 L76.3100126,11.3044039 L70.2700126,11.3044039 L70.2700126,8.18440388 L76.7500126,8.18440388 C76.8966793,8.18440388 77.0166793,8.13773721 77.1100126,8.04440388 C77.203346,7.95107055 77.2500126,7.83107055 77.2500126,7.68440388 L77.2500126,7.68440388 L77.2500126,6.08440388 C77.2500126,5.93773721 77.203346,5.81773721 77.1100126,5.72440388 C77.0166793,5.63107055 76.8966793,5.58440388 76.7500126,5.58440388 L76.7500126,5.58440388 L67.6700126,5.58440388 C67.5366793,5.58440388 67.423346,5.63107055 67.3300126,5.72440388 C67.2366793,5.81773721 67.1900126,5.93773721 67.1900126,6.08440388 L67.1900126,6.08440388 L67.1900126,19.0844039 C67.1900126,19.2310705 67.2366793,19.3510705 67.3300126,19.4444039 C67.423346,19.5377372 67.5366793,19.5844039 67.6700126,19.5844039 L67.6700126,19.5844039 L76.9100126,19.5844039 Z M82.4900126,19.5844039 C82.6366793,19.5844039 82.7566793,19.5377372 82.8500126,19.4444039 C82.943346,19.3510705 82.9900126,19.2310705 82.9900126,19.0844039 L82.9900126,19.0844039 L82.9900126,14.4644039 L85.4100126,14.4644039 L87.8500126,19.0444039 C87.903346,19.1510705 87.9900126,19.2677372 88.1100126,19.3944039 C88.2300126,19.5210705 88.4100126,19.5844039 88.6500126,19.5844039 L88.6500126,19.5844039 L90.8900126,19.5844039 C90.9966793,19.5844039 91.093346,19.5410705 91.1800126,19.4544039 C91.2666793,19.3677372 91.3100126,19.2710705 91.3100126,19.1644039 C91.3100126,19.0977372 91.2900126,19.0244039 91.2500126,18.9444039 L91.2500126,18.9444039 L88.4100126,13.9444039 C89.1966793,13.6244039 89.823346,13.1377372 90.2900126,12.4844039 C90.7566793,11.8310705 90.9900126,11.0177372 90.9900126,10.0444039 C90.9900126,8.60440388 90.5100126,7.50107055 89.5500126,6.73440388 C88.5900126,5.96773721 87.2766793,5.58440388 85.6100126,5.58440388 L85.6100126,5.58440388 L80.2900126,5.58440388 C80.1566793,5.58440388 80.043346,5.63107055 79.9500126,5.72440388 C79.8566793,5.81773721 79.8100126,5.93773721 79.8100126,6.08440388 L79.8100126,6.08440388 L79.8100126,19.0844039 C79.8100126,19.2310705 79.8566793,19.3510705 79.9500126,19.4444039 C80.043346,19.5377372 80.1566793,19.5844039 80.2900126,19.5844039 L80.2900126,19.5844039 L82.4900126,19.5844039 Z M85.5700126,11.9244039 L82.9900126,11.9244039 L82.9900126,8.08440388 L85.5700126,8.08440388 C86.303346,8.08440388 86.843346,8.25773721 87.1900126,8.60440388 C87.5366793,8.95107055 87.7100126,9.42440388 87.7100126,10.0244039 C87.7100126,10.6244039 87.533346,11.0910705 87.1800126,11.4244039 C86.8266793,11.7577372 86.2900126,11.9244039 85.5700126,11.9244039 L85.5700126,11.9244039 Z M94.7300126,19.5844039 C94.9300126,19.5844039 95.073346,19.5377372 95.1600126,19.4444039 C95.2466793,19.3510705 95.3100126,19.2644039 95.3500126,19.1844039 L95.3500126,19.1844039 L96.1900126,16.9444039 L101.830013,16.9444039 L102.690013,19.1844039 C102.716679,19.2644039 102.776679,19.3510705 102.870013,19.4444039 C102.963346,19.5377372 103.103346,19.5844039 103.290013,19.5844039 L103.290013,19.5844039 L105.390013,19.5844039 C105.510013,19.5844039 105.613346,19.5410705 105.700013,19.4544039 C105.786679,19.3677372 105.830013,19.2710705 105.830013,19.1644039 C105.830013,19.0977372 105.816679,19.0377372 105.790013,18.9844039 L105.790013,18.9844039 L101.050013,6.12440388 C100.996679,5.97773721 100.910013,5.85107055 100.790013,5.74440388 C100.670013,5.63773721 100.503346,5.58440388 100.290013,5.58440388 L100.290013,5.58440388 L97.7300126,5.58440388 C97.5166793,5.58440388 97.3500126,5.63773721 97.2300126,5.74440388 C97.1100126,5.85107055 97.0300126,5.97773721 96.9900126,6.12440388 L96.9900126,6.12440388 L92.2300126,18.9844039 C92.2166793,19.0377372 92.2100126,19.0977372 92.2100126,19.1644039 C92.2100126,19.2710705 92.2500126,19.3677372 92.3300126,19.4544039 C92.4100126,19.5410705 92.5100126,19.5844039 92.6300126,19.5844039 L92.6300126,19.5844039 L94.7300126,19.5844039 Z M101.070013,14.3644039 L96.9500126,14.3644039 L99.0100126,8.62440388 L101.070013,14.3644039 Z M112.790013,19.7844039 C113.696679,19.7844039 114.513346,19.6710705 115.240013,19.4444039 C115.966679,19.2177372 116.596679,18.8910705 117.130013,18.4644039 C117.663346,18.0377372 118.080013,17.5377372 118.380013,16.9644039 C118.680013,16.3910705 118.836679,15.7510705 118.850013,15.0444039 C118.863346,14.9244039 118.826679,14.8244039 118.740013,14.7444039 C118.653346,14.6644039 118.550013,14.6244039 118.430013,14.6244039 L118.430013,14.6244039 L116.130013,14.6244039 C115.970013,14.6244039 115.843346,14.6610705 115.750013,14.7344039 C115.656679,14.8077372 115.583346,14.9377372 115.530013,15.1244039 C115.343346,15.9110705 115.013346,16.4510705 114.540013,16.7444039 C114.066679,17.0377372 113.483346,17.1844039 112.790013,17.1844039 C111.976679,17.1844039 111.330013,16.9577372 110.850013,16.5044039 C110.370013,16.0510705 110.110013,15.3044039 110.070013,14.2644039 C110.030013,13.1177372 110.030013,11.9977372 110.070013,10.9044039 C110.110013,9.86440388 110.370013,9.11773721 110.850013,8.66440388 C111.330013,8.21107055 111.976679,7.98440388 112.790013,7.98440388 C113.483346,7.98440388 114.063346,8.12773721 114.530013,8.41440388 C114.996679,8.70107055 115.330013,9.24440388 115.530013,10.0444039 C115.583346,10.2310705 115.656679,10.3610705 115.750013,10.4344039 C115.843346,10.5077372 115.970013,10.5444039 116.130013,10.5444039 L116.130013,10.5444039 L118.430013,10.5444039 C118.550013,10.5444039 118.653346,10.5044039 118.740013,10.4244039 C118.826679,10.3444039 118.863346,10.2444039 118.850013,10.1244039 C118.836679,9.41773721 118.680013,8.77773721 118.380013,8.20440388 C118.080013,7.63107055 117.663346,7.13107055 117.130013,6.70440388 C116.596679,6.27773721 115.966679,5.95107055 115.240013,5.72440388 C114.513346,5.49773721 113.696679,5.38440388 112.790013,5.38440388 C111.563346,5.38440388 110.510013,5.59773721 109.630013,6.02440388 C108.750013,6.45107055 108.066679,7.06773721 107.580013,7.87440388 C107.093346,8.68107055 106.823346,9.65773721 106.770013,10.8044039 C106.756679,11.3777372 106.750013,11.9777372 106.750013,12.6044039 C106.750013,13.2310705 106.756679,13.8177372 106.770013,14.3644039 C106.823346,15.5244039 107.090013,16.5077372 107.570013,17.3144039 C108.050013,18.1210705 108.730013,18.7344039 109.610013,19.1544039 C110.490013,19.5744039 111.550013,19.7844039 112.790013,19.7844039 Z M126.890013,19.5844039 C127.036679,19.5844039 127.156679,19.5377372 127.250013,19.4444039 C127.343346,19.3510705 127.390013,19.2310705 127.390013,19.0844039 L127.390013,19.0844039 L127.390013,8.38440388 L131.010013,8.38440388 C131.156679,8.38440388 131.276679,8.33773721 131.370013,8.24440388 C131.463346,8.15107055 131.510013,8.03107055 131.510013,7.88440388 L131.510013,7.88440388 L131.510013,6.08440388 C131.510013,5.93773721 131.463346,5.81773721 131.370013,5.72440388 C131.276679,5.63107055 131.156679,5.58440388 131.010013,5.58440388 L131.010013,5.58440388 L120.530013,5.58440388 C120.396679,5.58440388 120.283346,5.63107055 120.190013,5.72440388 C120.096679,5.81773721 120.050013,5.93773721 120.050013,6.08440388 L120.050013,6.08440388 L120.050013,7.88440388 C120.050013,8.03107055 120.096679,8.15107055 120.190013,8.24440388 C120.283346,8.33773721 120.396679,8.38440388 120.530013,8.38440388 L120.530013,8.38440388 L124.170013,8.38440388 L124.170013,19.0844039 C124.170013,19.2310705 124.216679,19.3510705 124.310013,19.4444039 C124.403346,19.5377372 124.523346,19.5844039 124.670013,19.5844039 L124.670013,19.5844039 L126.890013,19.5844039 Z M136.210013,19.5844039 C136.343346,19.5844039 136.456679,19.5377372 136.550013,19.4444039 C136.643346,19.3510705 136.690013,19.2310705 136.690013,19.0844039 L136.690013,19.0844039 L136.690013,6.08440388 C136.690013,5.93773721 136.643346,5.81773721 136.550013,5.72440388 C136.456679,5.63107055 136.343346,5.58440388 136.210013,5.58440388 L136.210013,5.58440388 L133.910013,5.58440388 C133.776679,5.58440388 133.663346,5.63107055 133.570013,5.72440388 C133.476679,5.81773721 133.430013,5.93773721 133.430013,6.08440388 L133.430013,6.08440388 L133.430013,19.0844039 C133.430013,19.2310705 133.476679,19.3510705 133.570013,19.4444039 C133.663346,19.5377372 133.776679,19.5844039 133.910013,19.5844039 L133.910013,19.5844039 L136.210013,19.5844039 Z M146.310013,19.5844039 C146.536679,19.5844039 146.713346,19.5277372 146.840013,19.4144039 C146.966679,19.3010705 147.056679,19.1644039 147.110013,19.0044039 L147.110013,19.0044039 L151.290013,6.18440388 C151.316679,6.11773721 151.330013,6.05773721 151.330013,6.00440388 C151.330013,5.89773721 151.286679,5.80107055 151.200013,5.71440388 C151.113346,5.62773721 151.016679,5.58440388 150.910013,5.58440388 L150.910013,5.58440388 L148.790013,5.58440388 C148.576679,5.58440388 148.416679,5.64107055 148.310013,5.75440388 C148.203346,5.86773721 148.136679,5.97107055 148.110013,6.06440388 L148.110013,6.06440388 L145.010013,15.8444039 L141.910013,6.06440388 C141.883346,5.97107055 141.813346,5.86773721 141.700013,5.75440388 C141.586679,5.64107055 141.430013,5.58440388 141.230013,5.58440388 L141.230013,5.58440388 L139.110013,5.58440388 C138.990013,5.58440388 138.890013,5.62773721 138.810013,5.71440388 C138.730013,5.80107055 138.690013,5.89773721 138.690013,6.00440388 C138.690013,6.05773721 138.696679,6.11773721 138.710013,6.18440388 L138.710013,6.18440388 L142.890013,19.0044039 C142.943346,19.1644039 143.036679,19.3010705 143.170013,19.4144039 C143.303346,19.5277372 143.476679,19.5844039 143.690013,19.5844039 L143.690013,19.5844039 L146.310013,19.5844039 Z M163.030013,19.5844039 C163.176679,19.5844039 163.296679,19.5377372 163.390013,19.4444039 C163.483346,19.3510705 163.530013,19.2310705 163.530013,19.0844039 L163.530013,19.0844039 L163.530013,17.4844039 C163.530013,17.3377372 163.483346,17.2177372 163.390013,17.1244039 C163.296679,17.0310705 163.176679,16.9844039 163.030013,16.9844039 L163.030013,16.9844039 L156.390013,16.9844039 L156.390013,13.7844039 L162.430013,13.7844039 C162.576679,13.7844039 162.696679,13.7344039 162.790013,13.6344039 C162.883346,13.5344039 162.930013,13.4177372 162.930013,13.2844039 L162.930013,13.2844039 L162.930013,11.8044039 C162.930013,11.6577372 162.883346,11.5377372 162.790013,11.4444039 C162.696679,11.3510705 162.576679,11.3044039 162.430013,11.3044039 L162.430013,11.3044039 L156.390013,11.3044039 L156.390013,8.18440388 L162.870013,8.18440388 C163.016679,8.18440388 163.136679,8.13773721 163.230013,8.04440388 C163.323346,7.95107055 163.370013,7.83107055 163.370013,7.68440388 L163.370013,7.68440388 L163.370013,6.08440388 C163.370013,5.93773721 163.323346,5.81773721 163.230013,5.72440388 C163.136679,5.63107055 163.016679,5.58440388 162.870013,5.58440388 L162.870013,5.58440388 L153.790013,5.58440388 C153.656679,5.58440388 153.543346,5.63107055 153.450013,5.72440388 C153.356679,5.81773721 153.310013,5.93773721 153.310013,6.08440388 L153.310013,6.08440388 L153.310013,19.0844039 C153.310013,19.2310705 153.356679,19.3510705 153.450013,19.4444039 C153.543346,19.5377372 153.656679,19.5844039 153.790013,19.5844039 L153.790013,19.5844039 L163.030013,19.5844039 Z M168.230013,15.4444039 C168.363346,15.4444039 168.476679,15.3944039 168.570013,15.2944039 C168.663346,15.1944039 168.710013,15.0777372 168.710013,14.9444039 L168.710013,14.9444039 L168.710013,6.08440388 C168.710013,5.93773721 168.663346,5.81773721 168.570013,5.72440388 C168.476679,5.63107055 168.363346,5.58440388 168.230013,5.58440388 L168.230013,5.58440388 L166.270013,5.58440388 C166.123346,5.58440388 166.003346,5.63107055 165.910013,5.72440388 C165.816679,5.81773721 165.770013,5.93773721 165.770013,6.08440388 L165.770013,6.08440388 L165.770013,14.9444039 C165.770013,15.0777372 165.816679,15.1944039 165.910013,15.2944039 C166.003346,15.3944039 166.123346,15.4444039 166.270013,15.4444039 L166.270013,15.4444039 L168.230013,15.4444039 Z M168.310013,19.5844039 C168.456679,19.5844039 168.576679,19.5377372 168.670013,19.4444039 C168.763346,19.3510705 168.810013,19.2310705 168.810013,19.0844039 L168.810013,19.0844039 L168.810013,16.9244039 C168.810013,16.7910705 168.763346,16.6744039 168.670013,16.5744039 C168.576679,16.4744039 168.456679,16.4244039 168.310013,16.4244039 L168.310013,16.4244039 L166.150013,16.4244039 C166.016679,16.4244039 165.903346,16.4744039 165.810013,16.5744039 C165.716679,16.6744039 165.670013,16.7910705 165.670013,16.9244039 L165.670013,16.9244039 L165.670013,19.0844039 C165.670013,19.2310705 165.716679,19.3510705 165.810013,19.4444039 C165.903346,19.5377372 166.016679,19.5844039 166.150013,19.5844039 L166.150013,19.5844039 L168.310013,19.5844039 Z" fill="currentColor"></path><path d="M140.675463,34.9257359 C156.624153,48.462741 180.624791,81.0947587 147.927599,112.451975" fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M135.311907,104.773972 C131.984184,132.4307 136.624791,130.094759 159.447706,123.576916" fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg><canvas class="_1sSz c3d6 _2Sww" width="688" height="525"></canvas></span></section><h2 id="the-plan-of-attack"><a href="#the-plan-of-attack">The Plan of Attack</a></h2><blockquote><p><strong>N.B.</strong> A lot of this post didn&#x27;t initially work - so it&#x27;s just here to document the journey.</p><p>‚ú®. Skip ahead a bit if you&#x27;re only interested in what <em>did</em> work.</p></blockquote><p>Firstly let&#x27;s set out what we&#x27;re trying to achieve, then we&#x27;ll visit each of them in turn:</p><ol><li>Find a way of <strong>creating</strong> a Memoji</li><li>Get said Memoji <strong>into a useable format</strong></li><li>Insert Memoji into our <strong>website</strong></li><li>Allow users to <strong>interact</strong> with the Memoji</li></ol><h2 id="like-a-record-baby"><a href="#like-a-record-baby">Like a record baby‚Ä¶</a></h2><p>Creating the Memoji is probably the simplest of the steps, although there are a few things to note.</p><p>We&#x27;re going to to use iMessage to create out Memoji. Importantly we want to create a <em>video</em>, <strong>not</strong> a Memoji sticker.</p><noscript><img width="414" height="465" src="/.assets/25a3cd56a2be982cda514ca79883ea57/iMessage.webp" srcSet="/.assets/25a3cd56a2be982cda514ca79883ea57/iMessage.webp 414w, /.assets/5cfe01c8ff3c6994222c6ad102087476/iMessage.webp 828w" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:414/465" loading="lazy" alt="iMessage" data-noscript="yes"/></noscript><span class="KTY5 " data-noscript="no"></span><img width="414" height="465" src="" srcSet="" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:414/465" loading="eager" alt="iMessage" data-noscript="no"/><p>You want to record yourself rotating your head while keeping eye contact with the camera. The initial idea was to have the Memoji&#x27;s <strong>gaze</strong> following your mouse, but due to the limitations of our method, we can&#x27;t converge or diverge the eyes, nor face the head straight ahead. These issues ruin the effect if we go for a &#x27;following the mouse&#x27; type effect, so it&#x27;s better to go for a &#x27;tilting the head&#x27; type effect instead.</p><p>Have a play with the finished product, and compare that with your actual head:</p><p>Imagine you&#x27;re holding a hula hoop in front of you with both hands, and that it&#x27;s positioned so your face is inline with the centre. Now tilt your head (not your eyes) so that you&#x27;re looking at the top of the hoop. Follow the hoop around 360¬∞: no problem, we&#x27;re able to recreate this.</p><p>Now looking at the top of the hoop again, move straight down to the bottom of the hoop without following its curvature. And the same from left to right. Repeat the same with the finished Memoji above. Notice how in real life your head moves away from the outline of the imaginary hoop, <em>but</em> how in the Memoji the head doesn&#x27;t tilt to look <strong>within</strong> the hoop. This is the limitation we&#x27;re talking about.</p><p>It&#x27;s kinda okay though, your mouse isn&#x27;t normally over the Memoji, so it isn&#x27;t too much of an issue.</p><p>Anyway, recording the video! Mimic what you see in the finished article. Start the video with your head slightly tilting up, and slowly rotate it around 360¬∞.</p><noscript><img width="842" height="108" src="/.assets/930f96cfa108a410442418563ee3cac7/frames.webp" srcSet="/.assets/930f96cfa108a410442418563ee3cac7/frames.webp 842w, /.assets/cb94ff261701a2b4872a0037bbb5e82d/frames.webp 1684w" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:842/108" loading="lazy" alt="Taking the Video" data-noscript="yes"/></noscript><span class="KTY5 " data-noscript="no"></span><img width="842" height="108" src="" srcSet="" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:842/108" loading="eager" alt="Taking the Video" data-noscript="no"/><p>You want to try and maintain a constant distance from the camera, as you want the first and last frame to be as close together as possible to hide the fact that the motion isn&#x27;t actually continuous. This took many attempts, and while the recording I settled on isn&#x27;t perfect, it&#x27;s good enough - and I&#x27;m not rerecording it for the 48<sup>th</sup> time üòÖ.</p><blockquote><p><strong>N.B.</strong> You&#x27;ll probably find that no matter how hard you try, the raw video will never loop due to the &#x27;reset&#x27; animation added at the end.</p><p>üîÅ Pause for a second at the end of the recording and then trim the video to achieve the loop. It&#x27;ll still take a few tries.</p></blockquote><h2 id="channel-your-inner-alpha"><a href="#channel-your-inner-alpha">Channel Your Inner Alpha!</a></h2><p>Apple doesn&#x27;t expose the Memoji in any sort of &#x27;raw&#x27; or 3D format. Instead, all we&#x27;ve got is a video. A <code>.mov</code>. Straight out of my iPhone 11, across iMessage, and into trusty <code>FFmpeg</code>, we can see some quite detailed information about the file.</p><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-txt">Input #0, <span class="token highlightA">‚Äãmov‚Äã</span>,mp4,m4a,3gp,3g2,mj2, from &#x27;./me-360t.mov&#x27;:
  Metadata:
    major_brand     : qt
    minor_version   : 0
    compatible_brands: qt
    creation_time   : 2020-11-24T18:30:38.000000Z
    <span class="token highlightA">‚Äãcom.apple.quicktime.description: Memoji video, skin tone: Fairest Skin Tone 1; hairstyle: Maple, Short and straight updo with side parting; eyes: Blue;, facial hair: Flaxen, Shadow moustache and beard;‚Äã</span>
  Duration: 00:00:05.25, start: 0.000000, bitrate: 1992 kb/s
    Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 63 kb/s (default)
    Metadata:
      creation_time   : 2020-11-24T18:30:38.000000Z
      handler_name    : Core Media Audio
    Stream #0:1(und): Video: <span class="token highlightA">‚Äãhevc‚Äã</span> (Main) (hvc1 / 0x31637668), <span class="token highlightA">‚Äãyuv420p‚Äã</span>(tv, bt709), 640x480, 1753 kb/s, 57.56 fps, 60 tbr, 600 tbn, 600 tbc (default)
    Metadata:
      creation_time   : 2020-11-24T18:30:38.000000Z
      handler_name    : Core Media Video
      encoder         : HEVC

</code></pre><p>Firstly we can see that we&#x27;re dealing with a <code>.mov</code> container holding <code>HEVC</code> aka <code>H.265</code> encoded data. This is good news: a modern-ish format that supports alpha channels. Interestingly Apple also embeds plenty of metadata about the Memoji in the file. Useful for an accessibility description maybe üòØ!</p><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-txt">com.apple.quicktime.description:
    Memoji video,
        skin tone: Fairest Skin Tone 1;
        hairstyle: Maple, Short and straight updo with side parting;
      eyes: Blue;
     ,facial hair: Flaxen, Shadow moustache and beard;
</code></pre><p>The file format supports alpha channels! Great! Would Apple be so good as to make sure of it? Opening the file in QuickTime we can see that there is indeed an alpha channel - and its being used üéâ!</p><noscript><img width="388" height="525" src="/.assets/b98a4b7d7ec1fd17c8bc4073d58e130b/qt.webp" srcSet="/.assets/b98a4b7d7ec1fd17c8bc4073d58e130b/qt.webp 388w, /.assets/7e4768587a7152dc8324cf3a45bf449d/qt.webp 774w" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:388/525" loading="lazy" alt="QuickTime" data-noscript="yes"/></noscript><span class="KTY5 " data-noscript="no"></span><img width="388" height="525" src="" srcSet="" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:388/525" loading="eager" alt="QuickTime" data-noscript="no"/><p>While the file has an alpha channel, I couldn&#x27;t get <code>FFmpeg</code> to acknowledge it. Looking in the output above we only see a pixel format of <code>yuv420p</code> listed. It seems that as of now, <code>FFmpeg</code>&#x27;s <code>libx265</code> codec doesn&#x27;t support <code>H.265</code> with <code>yuva420p</code> pixel data<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup> - the key difference between <code>yuva420p</code> and <code>yuv420p</code> being the <code>a</code>, for alpha.</p><p>My initial idea was to use <code>FFmpeg</code> to transcode the <code>H.265</code> into <code>VP8</code>/<code>VP9</code> given its less than stellar cross compatibility<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>, then I&#x27;d have support for all major browsers using both formats combined<sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup>.</p><p>While I was able to convert the <code>.mov</code> to <code>.webm</code>, due to <code>FFmpeg</code>&#x27;s lack of <code>yuva420p</code> support I was loosing the alpha channel - which we&#x27;re trying to preserve üôÉ.</p><h2 id="changing-tact"><a href="#changing-tact">Changing Tact</a></h2><p>Rereading the <code>FFmpeg</code> output, I noticed the <code>handler_name</code> was <code>Core Media Video</code>. That&#x27;s a very &#x27;Apple&#x27; name, and indeed it&#x27;s the name of Apple&#x27;s shared macOS/iOS media framework. Given that QuickTime reports it, iOS generated it, and Preview shows it, I guessed there was a fair chance that tools I&#x27;d need to make use of the <code>yuva420p</code> alpha channel were already built in to macOS. If I could use these, then I could export the frames, and reencode them to <code>webm</code> using <code>FFmpeg</code>.</p><p>Again with Apple, this turned out to be an issue of exposing the means to the end user. QuickTime 7 <em>used</em> to offer the <code>export to image sequence</code> functionality<sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup>, but sometime between versions 7 and 10.6 the option was canned. QuickTime 7 isn&#x27;t supported after macOS Mojave<sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup> üò¢. iMovie also lacks the capability. <strong>I can confirm that Final Cut Pro X does have it though!</strong></p><p>I don&#x27;t really want to buy FCP X, and while it&#x27;s only one click away on many-a-site üëÄ‚Ä¶it&#x27;s a bit overkill for such a small task.</p><h2 id="upvc"><a href="#upvc">uPVC</a></h2><p>Given that the <code>Core Media</code> framework is built in to macOS, I decided the path of least resistance was probably to just write a quick CLI tool to extract the frames using <code>AVFoundation</code> (which uses <code>Core Media</code> under the hood). And that&#x27;s exactly what I did:</p><figure class="code"><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-swift"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">let</span> trackReaderOutput <span class="token operator">=</span> <span class="token function">AVAssetReaderTrackOutput</span><span class="token punctuation">(</span>track<span class="token punctuation">:</span> videoTrack<span class="token punctuation">,</span> outputSettings<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token constant">kCVPixelBufferPixelFormatTypeKey</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token function">NSNumber</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> kCVPixelFormatType_32BGRA<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">while</span> <span class="token keyword">let</span> sampleBuffer <span class="token operator">=</span> trackReaderOutput<span class="token punctuation">.</span><span class="token function">copyNextSampleBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> imageBuffer <span class="token operator">=</span> <span class="token function">CMSampleBufferGetImageBuffer</span><span class="token punctuation">(</span>sampleBuffer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> ciimage<span class="token punctuation">:</span> <span class="token builtin">CIImage</span> <span class="token operator">=</span> <span class="token function">CIImage</span><span class="token punctuation">(</span>cvPixelBuffer<span class="token punctuation">:</span> imageBuffer<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token keyword">let</span> colorSpace <span class="token operator">=</span> <span class="token function">CGColorSpace</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">CGColorSpace</span><span class="token punctuation">.</span>sRGB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> format <span class="token operator">=</span> <span class="token builtin">CIFormat</span><span class="token punctuation">.</span><span class="token builtin">RGBA16</span> <span class="token comment">// 16-bit RGBA</span>
          <span class="token keyword">let</span> quality <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token comment">// 1.0 = lossless</span>

            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

          <span class="token keyword">try</span> context<span class="token punctuation">.</span><span class="token function">writePNGRepresentation</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> ciimage<span class="token punctuation">,</span> to<span class="token punctuation">:</span> outURL<span class="token punctuation">,</span> format<span class="token punctuation">:</span> format<span class="token punctuation">,</span> colorSpace<span class="token punctuation">:</span> colorSpace<span class="token punctuation">,</span> options<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">kCGImageDestinationLossyCompressionQuality</span> <span class="token keyword">as</span> <span class="token builtin">CIImageRepresentationOption</span><span class="token punctuation">:</span> quality<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  frameIndex <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><figcaption><a href="https://github.com/reubn/uPVC">https://github.com/reubn/uPVC</a></figcaption></figure><p>Written in <code>Swift</code>, it just iterates over the frames of a video file (which could theoretically be any video format supported by <code>AVFoundation</code>), and exports <code>16-bit RGBA</code> lossless <code>PNG</code>s. I&#x27;m not a <code>Swift</code> native, so the main logic was <del>copied</del> adapted üëå from Stack Overflow<sup id="fnref-8"><a href="#fn-8" class="footnote-ref">8</a></sup>. I also ended up adding the options to export every <code>n % x === 0</code>-th frame: for reasons I&#x27;ll come on to later üòè.</p><h2 id="return-of-the-ffmpeg"><a href="#return-of-the-ffmpeg">Return of the <code>FFmpeg</code>!</a></h2><p>Armed with our sequence of image files, we&#x27;re ready to merge them back into a video using <code>FFmpeg</code>.</p><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-bash"><span class="token function">ffmpeg</span><span class="token argument"> -framerate</span> <span class="token number">60</span><span class="token argument"> -i</span> ./frame-%0d.png<span class="token argument"> -c:v</span> libvpx-vp9<span class="token argument"> -pix_fmt</span> yuva420p<span class="token argument"> -speed</span> <span class="token number">0</span><span class="token argument"> -crf</span> <span class="token number">16</span><span class="token argument"> -an</span> ./me.webm
</code></pre><p><code>FFmpeg</code> does support <code>yuva420p</code> with <code>webm</code>, so we&#x27;re good, and the file size isn&#x27;t terrible - at around <code>1MB</code>.</p><h2 id="rough-as-a-bears-arse"><a href="#rough-as-a-bears-arse">Rough as a Bear&#x27;s Arse</a></h2><p>All that&#x27;s left now is to embed the video, and hookup <code>mousemove</code> event handlers to scrub through the video. Surely.</p><p>In Safari this works fine - buttery smooth - Chrome however really chokes on the video. I tried lowering the quality via the <code class="language-bash">-crf</code> parameter in <code>FFmpeg</code>, but no matter how low the quality, the FPS, or how much event handler throttling I applied, Chrome still jittered and stalled its way through the animation. The same applied for <code>VP8</code>.</p><noscript><video width="677" height="370" class="PydY  _3eeT" controls="" muted="" autoplay="" loop="" data-noscript="yes"><source src="/.assets/d05f13b4b1aba3a83466bb937920bfa0/lag.webm" type="video/webm"/><source src="/.assets/bf0c0fbce229c1188b5907755afd89d9/lag.mp4" type="video/mp4"/></video></noscript><span class="KTY5 " data-noscript="no"></span><video width="677" height="370" class="PydY  _3eeT" controls="" muted="" autoplay="" loop="" data-noscript="no"><source type="video/webm"/><source type="video/mp4"/></video><p>Given that Safari has no trouble I wonder if this is an issue of the <code>HTML5</code> <code>video</code> element&#x27;s scrubbing not being optimised for animation via <code class="language-js"><span class="token punctuation">.</span><span class="token property-access">currentTime</span></code> in <code>Blink</code>-based browsers. I also tried this in combination with <code class="language-js"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">requestAnimationFrame</span></code> to no avail.</p><p>Another difference between the browsers was that Safari was consuming the <code>.mov</code> file, while Chrome was using the <code>.webm</code> file. They both have similar file sizes, but very different compression algorithms. Regardless, most compressed video cannot be played back in reverse, or be seeked<sup>(sic)</sup> at realtime speeds.</p><p>As an analogy, most video compression works a bit like a zip (no pun intended):</p><ul><li>ü¶∑ Teeth of the zip represent video frames</li><li>üëç You can unzip your coat in one direction, and it works fine.</li><li>üëé You can&#x27;t unzip your coat in reverse - or skip bits out - leaving them zipped together.</li><li>ü§ê Picking a random point on the zip, all preceding zip must be undone in order to reach it.</li></ul><p>Keeping it simple - in video you have <code>I frames</code>, and <code>P frames</code><sup id="fnref-9"><a href="#fn-9" class="footnote-ref">9</a></sup>.<code>I frames</code> are like the frames that we extracted using <code>uPVC</code> - whole images in their own right. <code>P frames</code> are not bona fide images. Instead they contain references to previous <code>I</code> and <code>P frames</code>, specifying elements they have in common to save space, and how they differ.</p><ul><li>To decode an <code>I frame</code> you just need that frame üëå.</li><li>To decode a <code>P frame</code> however you also need all preceding frames that it references, and all preceding frames that all those frames reference ‚Ä¶ all the way back to the closest <code>I frame</code><sup id="fnref-10"><a href="#fn-10" class="footnote-ref">10</a></sup>.</li></ul><p>Scrubbing through the video (seeking in response to mouse movements) would require the decoder to jump around &#x27;the zip&#x27; and necessitate &#x27;unzipping&#x27; a lot of previous (which is <strong>ahead</strong> if playing in reverse) frames / footage. Perhaps this aspect of video encoding is where some of the issues arose.</p><p>This doesn&#x27;t fully explain the problems as there wasn&#x27;t such an issue with <code>H.265</code> in Safari - but it most probably contributed. Perhaps Chrome didn&#x27;t buffer the uncompressed video into memory, while Safari did ü§∑‚Äç‚ôÄÔ∏è.</p><h2 id="abort-abort"><a href="#abort-abort">Abort, Abort</a></h2><p>Given that the video method wasn&#x27;t going to work, I had to think of an alternative. If we run with the idea of video simply being a series of frames, it&#x27;s not a crazy idea to skip the whole &#x27;video&#x27; encoding malarkey and just deal with frames directly.</p><p>We&#x27;ve already done the hard work of extracting the frames, and have a folder of <code>.png</code> files.</p><p>I wrote a small <code>React</code> component to listen for global <code>mousemove</code> event, and display the corresponding frame. This works great, and surprisingly is a lot smoother than the video! I&#x27;m not going to go over the ins and outs of it here, but I will point out a few things of note.</p><p>Firstly the interactivity is a bonus, and in order to not get in the way of more pressing resources, we load the frames via a <code>useEffect</code> hook. We load a sensible <code>defaultFrame</code> first and that serves as a placeholder until the rest of them have loaded. We listen for the <code>.decode()</code> <code>Promise</code> on the <code>defaultFrame</code> <code>Image</code> to signal that it&#x27;s loaded and then animate it in.</p><p>Downloading lots of (smallish) image files isn&#x27;t a problem for people on fast internet connections, but consideration has to be taken for those on slower connections. The <code>React</code> component allows about <code>5sec</code> for the images to download before cancelling all but the <code>defaultFrame</code> request. This allows any other more important content to come through faster, and gracefully falls back to a static Memoji.</p><p>At this point we still don&#x27;t have interactivity. That only occurs once all the frames have downloaded - to stop jitter in the first few moments. In testing it was quite common to stop moving the mouse <em>just</em> before the point at which the frames became available. When the user then resumes mouse movement there&#x27;s a jump between the <code>defaultFrame</code> placeholder and the required frame.</p><p>To overcome this, we listen for the user&#x27;s mouse movement even before the frames have downloaded. There isn&#x27;t the option to directly query the user agent for the mouse position, so we rely on recording these preemptive events to get it - and then smoothly transition to the corresponding frame. It&#x27;s better to transition when the mouse isn&#x27;t moving than when it is.</p><p>This works fine on traditional mouse and keyboard devices, but - for obvious reasons - works a little differently on touchscreens. We listen for the <code>onTouch</code> counterparts, but also animate the Memoji by default - as to not rely on the user touching the Memoji. Once they have, touch interaction takes over. As a next step I&#x27;d like to overlay a call-to-action to highlight this to touch users, and make the animation a little more natural.</p><h2 id="a-little-on-the-large-side"><a href="#a-little-on-the-large-side">A Little on the Large Side</a></h2><p>Video compression may have hindered our dreams of smooth scrubbing, but it&#x27;s used for a reason. The 315 frames only took up around <code>1MB</code>. Extracted in their raw <code>.png</code> form they occupy a staggering <code>65.4MB</code>. Ouch üò≥. Admittedly <code>.png</code> probably isn&#x27;t the most efficient format for storing high fidelity graphics, but it is lossless, and does support alpha channels: fine for an intermediate format.</p><p>Firstly I saved <code>2/3</code> off the total size by only keeping every 3<sup>rd</sup> frame. While perhaps counterintuitive, this didn&#x27;t affect the smoothness of the final result in any perceivable way.</p><p><code>ImageOptim</code> managed to reduce the size down further by <code>47%</code>. But that&#x27;s still not anywhere near where we need it to be.</p><p>I settled on <code>.webp</code>. Support is good<sup id="fnref-11"><a href="#fn-11" class="footnote-ref">11</a></sup>, and I set about converting the <code>.png</code> files. The <code>cwebp</code> tool<sup id="fnref-12"><a href="#fn-12" class="footnote-ref">12</a></sup> is the way to go, and <code>.webp</code> itself has a multitude of options to when encoding the image.</p><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> *.png<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">cwebp</span><span class="token argument"> -lossless</span><span class="token argument"> -mt</span> <span class="token string">&quot;./<span class="token variable simple">$file</span>&quot;</span><span class="token argument"> -o</span> <span class="token string">&quot;./<span class="token variable"><span class="token variable-symbols">${file</span><span class="token operator">/</span><span class="token operator">/</span>\.png<span class="token operator">/</span>.webp<span class="token variable-symbols">}</span></span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre><p> It&#x27;s a really neat format and supports both <code>lossless</code>, and <code>lossy</code> compression. It even has a middle ground <code>near_lossless</code> option. Even with <code>lossless</code> compression, it managed to reduce the total burden by a massive <code>93%</code> to only <code>4.6MB</code>! While really impressive, this is still a bit hefty, as I was hoping to dip into the <code>KB</code> range.</p><p> After going through many permutations, I settled on a <code>lossy</code> quality of <code>80</code>. Going lower reduced the image quality, but didn&#x27;t justify the cost, giving only negligible improvements in file size. I also used <code>cwebp</code>&#x27;s builtin crop function to try and shave off every last byte.</p><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> *.png<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">cwebp</span><span class="token argument"> -q</span> <span class="token number">80</span><span class="token argument"> -mt</span><span class="token argument"> -crop</span> <span class="token number">100</span> <span class="token number">26</span> <span class="token number">459</span> <span class="token number">350</span> <span class="token string">&quot;./<span class="token variable simple">$file</span>&quot;</span><span class="token argument"> -o</span> <span class="token string">&quot;./<span class="token variable"><span class="token variable-symbols">${file</span><span class="token operator">/</span><span class="token operator">/</span>\.png<span class="token operator">/</span>.webp<span class="token variable-symbols">}</span></span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre><p>After running this, and cooking an egg on my CPU üç≥, I was left with a total size of <code>868KB</code>. Pretty fucking good üëå. A combined saving of just under <code>99%</code>!</p><p><code>.webp</code> itself is based on the <code>VP8</code> video codec that we wanted to use initially. Given this, I guess the savings aren&#x27;t that surprising, and basically means that we&#x27;ve come full circle, just without the limitations of video compression.</p><p>There are some avenues to explore to try and reduce the total file size some more. <code>.webp</code> supports animation, but I don&#x27;t think the ability to scrub through animated images is exposed in the web environment at the present time, and it may well suffer from the same issues as <code>VP8</code>/<code>VP9</code>. Maybe serving the frames as an animated <code>.webp</code> file and then decoding them to canvas is an option - but I am yet to explore the possibility.</p><p>A simpler option might be to combine the frames into a sprite sheet.</p><pre><span><button class="clickToCopy" onmousedown="COPY_FN(event)" onmouseup="CLEAR_FN(event)">Copy</button></span><code class="language-bash"><span class="token function">montage</span> ./*.webp<span class="token argument"> -define</span> webp:lossless<span class="token operator">=</span>true<span class="token argument"> -geometry</span> <span class="token string">&#x27;1x1+0+0&lt;&#x27;</span><span class="token argument"> -tile</span> 10x<span class="token argument"> -background</span> none ./output.webp

<span class="token function">cwebp</span><span class="token argument"> -q</span> <span class="token number">80</span> ./output.webp<span class="token argument"> -o</span> ./compressed.webp
</code></pre><p>I&#x27;ve had a play using <code>ImageMagick</code>&#x27;s <code>montage</code>, and I&#x27;ve only been able to reduce the total size to about <code>715KB</code> after <code>lossy</code> compression. I still need to test if this meagre compression benefit outweighs the speed benefits that we achieve by serving individual frames concurrently over <code>HTTP2</code>.</p><noscript><img width="4590" height="3850" src="/.assets/bc144f17774402c6846b790407e433b8/sprites.webp" srcSet="/.assets/bc144f17774402c6846b790407e433b8/sprites.webp 4590w" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:4590/3850" loading="lazy" alt="Sprites" data-noscript="yes"/></noscript><span class="KTY5 " data-noscript="no"></span><img width="4590" height="3850" src="" srcSet="" sizes="min(1000px, 100vw - 1rem)" class="_3CP- " style="aspect-ratio:4590/3850" loading="eager" alt="Sprites" data-noscript="no"/><h2 id="are-we-nearly-there-yet"><a href="#are-we-nearly-there-yet">Are we nearly there yet?</a></h2><p>While what we have works, it still has a number of caveats, chiefly the <code>868KB</code> file size burden, and the limited axises the Memoji is able to move in. I&#x27;d still like to reduce the former, and to summarise, the avenues I&#x27;m currently exploring are:</p><ul><li>Animated <code>.webp</code> frames decoded to <code>canvas</code></li><li>Sprite sheets</li><li>Load reduced quality frames for movement, and download higher quality once movement has stopped</li><li>Only load frames that surround cursor&#x27;s starting position</li><li><code>.avif</code> once support is good enough</li></ul><p>The latter is more difficult, and would require a completely new approach. While the <code>AvatarKit</code> framework isn&#x27;t officially exposed, people have managed to use it on side loaded apps<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup>. The 3D models are also stored at a known location<sup id="fnref-14"><a href="#fn-14" class="footnote-ref">14</a></sup>, extracting them shouldn&#x27;t be difficult, but I have very little knowledge of how to composite the features into &#x27;me&#x27;, nor do I know how animating them would work. If this were to be possible, then it would solve the current limitations on movement - <em>and</em> - via <code>WebGL</code> the issues with file size.</p><div class="footnotes"><hr/><ol><li id="fn-1" ref-number="1"><a href="https://www.joshwcomeau.com/">https://www.joshwcomeau.com/</a><a href="#fnref-1" class="footnote-backref">‚Ü©</a></li><li id="fn-2" ref-number="2"><a href="https://twitter.com/Sam0711er/status/959535639174746112">https://twitter.com/Sam0711er/status/959535639174746112</a><a href="#fnref-2" class="footnote-backref">‚Ü©</a></li><li id="fn-3" ref-number="3"><a href="https://trac.ffmpeg.org/ticket/7965">https://trac.ffmpeg.org/ticket/7965</a><a href="#fnref-3" class="footnote-backref">‚Ü©</a></li><li id="fn-4" ref-number="4"><a href="https://caniuse.com/hevc">https://caniuse.com/hevc</a><a href="#fnref-4" class="footnote-backref">‚Ü©</a></li><li id="fn-5" ref-number="5"><a href="https://caniuse.com/webm">https://caniuse.com/webm</a><a href="#fnref-5" class="footnote-backref">‚Ü©</a></li><li id="fn-6" ref-number="6"><a href="https://video.stackexchange.com/questions/4033/exporting-mov-vr-to-multiple-still-frames">https://video.stackexchange.com/questions/4033/exporting-mov-vr-to-multiple-still-frames</a><a href="#fnref-6" class="footnote-backref">‚Ü©</a></li><li id="fn-7" ref-number="7"><a href="https://support.apple.com/kb/DL923?locale=en_GB">https://support.apple.com/kb/DL923?locale=en_GB</a><a href="#fnref-7" class="footnote-backref">‚Ü©</a></li><li id="fn-8" ref-number="8"><a href="https://stackoverflow.com/questions/39570745/accesing-individual-frames-using-av-player/39573702#39573702">https://stackoverflow.com/questions/39570745/accesing-individual-frames-using-av-player/39573702#39573702</a><a href="#fnref-8" class="footnote-backref">‚Ü©</a></li><li id="fn-9" ref-number="9"><a href="https://en.m.wikipedia.org/wiki/Video_compression_picture_types">https://en.m.wikipedia.org/wiki/Video_compression_picture_types</a><a href="#fnref-9" class="footnote-backref">‚Ü©</a></li><li id="fn-10" ref-number="10"><a href="https://github.com/google/ExoPlayer/issues/2191#issuecomment-266783472">https://github.com/google/ExoPlayer/issues/2191#issuecomment-266783472</a><a href="#fnref-10" class="footnote-backref">‚Ü©</a></li><li id="fn-11" ref-number="11"><a href="https://caniuse.com/webp">https://caniuse.com/webp</a><a href="#fnref-11" class="footnote-backref">‚Ü©</a></li><li id="fn-12" ref-number="12"><a href="https://developers.google.com/speed/webp/docs/cwebp">https://developers.google.com/speed/webp/docs/cwebp</a><a href="#fnref-12" class="footnote-backref">‚Ü©</a></li><li id="fn-13" ref-number="13"><a href="https://github.com/simonbs/SBSAnimoji">https://github.com/simonbs/SBSAnimoji</a><a href="#fnref-13" class="footnote-backref">‚Ü©</a></li><li id="fn-14" ref-number="14"><a href="https://www.reddit.com/r/jailbreak/comments/j2rxd5/question_is_there_a_way_to_ripexport/">https://www.reddit.com/r/jailbreak/comments/j2rxd5/question_is_there_a_way_to_ripexport/</a><a href="#fnref-14" class="footnote-backref">‚Ü©</a></li></ol></div></div></article><script>window.__HACK_GLOBAL = {...(window.__HACK_GLOBAL || {}), ["making-my-memoji"]: document.getElementById('HACK-POST-making-my-memoji').innerHTML}</script></main><footer class="_2-bA"><p class="_2aCl"><a href="//unsplash.com/@re" class="_1jTl" title="Unsplash"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="_2Ri_"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg></a><a href="//github.com/reubn" class="_30IS" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="_2Ri_"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="mailto:click.to.reveal@email.com" class="_1z11" title="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="_2Ri_"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="//twitter.com/reubn_" class="_3WD9" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="_2Ri_"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="//instagram.com/reubn" class="PLVf" title="Instagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 132" width="0" height="0"><defs><linearGradient id="instagram" gradientTransform="rotate(45)"><stop offset="0" stop-color="#fd5"></stop><stop offset=".1" stop-color="#fd5"></stop><stop offset=".5" stop-color="#ff543e"></stop><stop offset="1" stop-color="#c837ab"></stop></linearGradient></defs></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="_2Ri_"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a></p><a href="https://github.com/reubn/reuben.science/tree/main/content/posts/making-my-memoji" class="_2Ut_" title="Source Code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="_2Ri_"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a></footer></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"making-my-memoji","metadata":{"title":"Making My Interactive Memoji","description":"Interactive Memoji for the Web","emoji":"üë¶üèª","date":"2020-12-16T00:00:00.000Z","category":["dev"],"image":{"id":0.3727004790581059,"resolutions":{"1":{"src":"/.assets/c38df9448ff1e5c25b94797dd4e4976e/header.webp","scale":1,"width":1000,"height":400},"2":{"src":"/.assets/09d9af82603cfcf70d08ebba1a9259c0/header.webp","scale":2,"width":2000,"height":800},"3":{"src":"/.assets/8949b84f84c14b6a3f20734e7103a3d4/header.webp","scale":3,"width":3000,"height":1200},"0.5":{"src":"/.assets/3bfa76fd93b6908bd9a7c210d36af5be/header.webp","scale":0.5,"width":500,"height":200}}},"readingTime":{"mins":16,"words":3030}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"making-my-memoji"},"buildId":"-p1fA106btvu5ImZtlfee","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>