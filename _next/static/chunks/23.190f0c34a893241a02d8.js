(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{"7ljp":function(a,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n("q1tI"),t=n.n(s);function p(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function c(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,s)}return n}function m(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){p(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function o(a,e){if(null==a)return{};var n,s,t=function(a,e){if(null==a)return{};var n,s,t={},p=Object.keys(a);for(s=0;s<p.length;s++)n=p[s],e.indexOf(n)>=0||(t[n]=a[n]);return t}(a,e);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);for(s=0;s<p.length;s++)n=p[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(t[n]=a[n])}return t}var r=t.a.createContext({}),N=function(a){var e=t.a.useContext(r),n=e;return a&&(n="function"===typeof a?a(e):m(m({},e),a)),n},l={inlineCode:"code",wrapper:function(a){var e=a.children;return t.a.createElement(t.a.Fragment,{},e)}},b=t.a.forwardRef((function(a,e){var n=a.components,s=a.mdxType,p=a.originalType,c=a.parentName,r=o(a,["components","mdxType","originalType","parentName"]),b=N(n),i=s,O=b["".concat(c,".").concat(i)]||b[i]||l[i]||p;return n?t.a.createElement(O,m(m({ref:e},r),{},{components:n})):t.a.createElement(O,m({ref:e},r))}));function i(a,e){var n=arguments,s=e&&e.mdxType;if("string"===typeof a||s){var p=n.length,c=new Array(p);c[0]=b;var m={};for(var o in e)hasOwnProperty.call(e,o)&&(m[o]=e[o]);m.originalType=a,m.mdxType="string"===typeof a?a:s,c[1]=m;for(var r=2;r<p;r++)c[r]=n[r];return t.a.createElement.apply(null,c)}return t.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},BnlQ:function(a,e,n){"use strict";n.r(e),n.d(e,"metadata",(function(){return o})),n.d(e,"default",(function(){return N}));var s=n("rePB"),t=n("Ff2n"),p=(n("q1tI"),n("7ljp"));function c(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,s)}return n}function m(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(s.a)(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}var o={title:"Cloudflare Dynamic DNS",description:"Bash Script to Update Cloudflare DNS Records",emoji:"\u26c5\ufe0f",date:"2021-07-28",preview:{language:"bash",content:'$(curl -s -m 4 https://api.ipify.org)\n$(curl -s -m 4 https://api.ipify.org)\n$(curl -s -m 4 https://api.ipify.org)\nDNS_RECORD=reuben.scienceDNS_RECORD=reuben.scienceDNS_RECORD=reuben.scienceDNS_RECORD=reuben.science\necho -e "A Record Updated -> $IPv4_ADDR"'}},r={metadata:o};function N(a){var e=a.components,n=Object(t.a)(a,["components"]);return Object(p.a)("wrapper",m(m(m({},r),n),{},{components:e,mdxType:"MDXLayout"}),Object(p.a)("p",null,"Small ",Object(p.a)("inlineCode",{parentName:"p"},"bash")," script to dynamically update Cloudflare ",Object(p.a)("inlineCode",{parentName:"p"},"DNS")," records to the current external ",Object(p.a)("inlineCode",{parentName:"p"},"IP")," addresses."),Object(p.a)("ul",null,Object(p.a)("li",{parentName:"ul"},"Supports both ",Object(p.a)("inlineCode",{parentName:"li"},"IPv4")," and ",Object(p.a)("inlineCode",{parentName:"li"},"IPv6"),": ",Object(p.a)("inlineCode",{parentName:"li"},"A")," and ",Object(p.a)("inlineCode",{parentName:"li"},"AAAA")),Object(p.a)("li",{parentName:"ul"},"Multi-source comparison (prevents against source poisoning/failure)"),Object(p.a)("li",{parentName:"ul"},"Cloudflare API v4"),Object(p.a)("li",{parentName:"ul"},"Configurable")),Object(p.a)("pre",m({},{className:"language-bash",metastring:"Bash"}),Object(p.a)("code",m({parentName:"pre"},{className:"language-bash",metastring:"Bash"}),Object(p.a)("span",m({parentName:"code"},{className:"token shebang important"}),"#!/bin/bash"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# https://reuben.science"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"red"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),"'\\033[1;31m'"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"yellow"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),"'\\033[1;33m'"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"green"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),"'\\033[1;32m'"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"purple"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),"'\\033[1;35m'"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"reset"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),"'\\033[0m'"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Cloudflare Zone ID - copy from Cloudflare DNS page"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"ZONE_ID"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),"979f5e5c765123d539fad5e744d3fd10\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Full domain to be updated"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"DNS_RECORD"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),"reuben.science\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Cloudflare Token - scoped for write access to the desired Zone.Zone, Zone.DNS"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"CLOUDFLARE_TOKEN"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),"6ktwpvFqyn5U0m0SBEyLt2nPQzSTLy3K_TLZVfXi\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# How many IP addresses must agree, in order for the result to be used?"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_THRESHOLD"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"3"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_THRESHOLD"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"3"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Get the current external IP addresses"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://api.ipify.org",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://ipv4.wtfismyip.com/text",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://api4.my-ip.io/ip",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://v4.ipv6-test.com/api/myip.php",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://ipv4.lookup.test-ipv6.com/ ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"jq"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -r")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'.ip'"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://api6.ipify.org",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://ipv6.wtfismyip.com/text",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://api6.my-ip.io/ip",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://v6.ipv6-test.com/api/myip.php",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -m")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"4")," https://ipv6.lookup.test-ipv6.com/ ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"jq"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -r")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'.ip'"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Pass Results to awk"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_AWK"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token builtin class-name"}),"printf")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'%s\\n'")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"@",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"awk")," ' ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n  BEGIN ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"{"),"va ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"=")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),";")," max ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"=")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n  max ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"<")," ++c",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"$0",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]")," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"{"),"if",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"("),"length",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"("),"$0",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),")")," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"!=")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"max ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"=")," c",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token variable simple"}),"$0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),";")," addr ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"=")," ",Object(p.a)("span",m({parentName:"code"},{className:"token variable simple"}),"$0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"if",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"length",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(p.a)("span",m({parentName:"code"},{className:"token variable simple"}),"$0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"!=")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"va ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"=")," ++va",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),"\n  END ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"print ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"length",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"addr",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"!=")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ? addr : ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"NULL"'),", va, max, NR",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),"\n'",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"))"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_AWK"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token builtin class-name"}),"printf")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'%s\\n'")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"@",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"awk")," ' ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n  BEGIN ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"{"),"va ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"=")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),";")," max ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"=")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n  max ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"<")," ++c",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"$0",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]")," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"{"),"if",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"("),"length",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"("),"$0",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),")")," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"!=")," ",Object(p.a)("span",m({parentName:"span"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"max ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"=")," c",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token variable simple"}),"$0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),";")," addr ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"=")," ",Object(p.a)("span",m({parentName:"code"},{className:"token variable simple"}),"$0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"if",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"length",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(p.a)("span",m({parentName:"code"},{className:"token variable simple"}),"$0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"!=")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"va ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"=")," ++va",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),"\n  END ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"print ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"length",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"addr",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"!=")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"0"),Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ? addr : ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"NULL"'),", va, max, NR",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),"\n'",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"))"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Get the most common value for each service, ignoring empty responses"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_ADDR"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"0",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"/"),"NULL",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"/"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_ADDR"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"0",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"/"),"NULL",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"/"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# How many services returned addresses?"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_RETURNED"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"1",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_RETURNED"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"1",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# How many services agreed?"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_AGREED"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"2",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_AGREED"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"2",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# How many services in total?"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_TOTAL"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"3",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_TOTAL"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_AWK"),Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"["),"3",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"]"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Successful?"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_SUCCESS"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'""'),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_SUCCESS"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'""'),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -z")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv4_ADDR"),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${red"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"No IPv4 Address Found",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(p.a)("span",m({parentName:"code"},{className:"token file-descriptor important"}),"&2"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"elif")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),' "',Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$(("),"IPv4_AGREED",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"))")),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'" -ge "'),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$(("),"IPv4_THRESHOLD",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"))")),'" ',Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Protect against poisoned data"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"DNS_RECORDIDv4"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"https://api.cloudflare.com/client/v4/zones/',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$ZONE_ID"),"/dns_records?type=A&name=",Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$DNS_RECORD"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Authorization: Bearer ',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$CLOUDFLARE_TOKEN"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Content-Type: application/json"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"jq"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -r")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'{\"result\"}[] | .[0] | .id'"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"response"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -X")," PUT ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"https://api.cloudflare.com/client/v4/zones/',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$ZONE_ID"),"/dns_records/",Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$DNS_RECORDIDv4"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n   ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Authorization: Bearer ',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$CLOUDFLARE_TOKEN"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n   ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Content-Type: application/json"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n   ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," --data")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"{',Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"type",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"A",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),",",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"name",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$DNS_RECORD"),Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),",",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"content",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv4_ADDR"),Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),",",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"ttl",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":1,",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"proxied",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),':false}"'),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),' "',Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token builtin class-name"}),"echo")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${response"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"jq"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -r")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'.success'"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'" = "'),'true" ',Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"A    Record Updated -> ',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${yellow"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv4_ADDR"),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}"))," ",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${green"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_AGREED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_RETURNED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_TOTAL"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"'),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv4_SUCCESS"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"YES"'),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"else"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"A    Record Failed: ',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${red"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${response"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(p.a)("span",m({parentName:"code"},{className:"token file-descriptor important"}),"&2"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"else"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"Not Enough IPv4 Addresses Agreed: ',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${red"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_AGREED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_RETURNED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv4_TOTAL"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(p.a)("span",m({parentName:"code"},{className:"token file-descriptor important"}),"&2"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -z")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv6_ADDR"),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${red"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"No IPv6 Address Found",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(p.a)("span",m({parentName:"code"},{className:"token file-descriptor important"}),"&2"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"elif")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),' "',Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$(("),"IPv6_AGREED",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"))")),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'" -ge "'),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$(("),"IPv6_THRESHOLD",Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"))")),'" ',Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(p.a)("span",m({parentName:"code"},{className:"token comment"}),"# Protect against poisoned data"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"DNS_RECORDIDv6"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"https://api.cloudflare.com/client/v4/zones/',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$ZONE_ID"),"/dns_records?type=AAAA&name=",Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$DNS_RECORD"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Authorization: Bearer ',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$CLOUDFLARE_TOKEN"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Content-Type: application/json"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"jq"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -r")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'{\"result\"}[] | .[0] | .id'"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"response"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"curl"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -s"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -X")," PUT ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"https://api.cloudflare.com/client/v4/zones/',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$ZONE_ID"),"/dns_records/",Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$DNS_RECORDIDv6"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n   ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Authorization: Bearer ',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$CLOUDFLARE_TOKEN"),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n   ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -H")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"Content-Type: application/json"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token punctuation"}),"\\"),"\n   ",Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," --data")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"{',Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"type",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"AAAA",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),",",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"name",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$DNS_RECORD"),Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),",",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"content",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv6_ADDR"),Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),",",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"ttl",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),":1,",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),"proxied",Object(p.a)("span",m({parentName:"span"},{className:"token entity",title:'\\"'}),'\\"'),':false}"'),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),"\n\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),' "',Object(p.a)("span",m({parentName:"code"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"$("),Object(p.a)("span",m({parentName:"span"},{className:"token builtin class-name"}),"echo")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${response"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"span"},{className:"token operator"}),"|")," ",Object(p.a)("span",m({parentName:"span"},{className:"token function"}),"jq"),Object(p.a)("span",m({parentName:"span"},{className:"token argument"})," -r")," ",Object(p.a)("span",m({parentName:"span"},{className:"token string"}),"'.success'"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),")")),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'" = "'),'true" ',Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n        ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"AAAA Record Updated -> ',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${purple"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv6_ADDR"),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}"))," ",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${green"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_AGREED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_RETURNED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_TOTAL"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"'),"\n      ",Object(p.a)("span",m({parentName:"code"},{className:"token assign-left variable"}),"IPv6_SUCCESS"),Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"YES"'),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"else"),"\n      ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"AAAA Record Failed: ',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${red"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${response"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(p.a)("span",m({parentName:"code"},{className:"token file-descriptor important"}),"&2"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"else"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"echo"),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -e")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"Not Enough IPv6 Addresses Agreed: ',Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${red"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_AGREED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${reset"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_RETURNED"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),"/",Object(p.a)("span",m({parentName:"span"},{className:"token variable"}),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"${IPv6_TOTAL"),Object(p.a)("span",m({parentName:"span"},{className:"token variable-symbols"}),"}")),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(p.a)("span",m({parentName:"code"},{className:"token file-descriptor important"}),"&2"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -n")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv4_ADDR"),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -z")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv4_SUCCESS"),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exit")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"1"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -n")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv6_ADDR"),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"if")," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"["),Object(p.a)("span",m({parentName:"code"},{className:"token argument"})," -z")," ",Object(p.a)("span",m({parentName:"code"},{className:"token string"}),'"',Object(p.a)("span",m({parentName:"span"},{className:"token variable simple"}),"$IPv6_SUCCESS"),'"')," ",Object(p.a)("span",m({parentName:"code"},{className:"token punctuation"}),"]"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"then"),"\n    ",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exit")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"1"),"\n  ",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n",Object(p.a)("span",m({parentName:"code"},{className:"token keyword"}),"fi"),"\n\n",Object(p.a)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exit")," ",Object(p.a)("span",m({parentName:"code"},{className:"token number"}),"0"),"\n")))}N.isMDXComponent=!0},Ff2n:function(a,e,n){"use strict";function s(a,e){if(null==a)return{};var n,s,t=function(a,e){if(null==a)return{};var n,s,t={},p=Object.keys(a);for(s=0;s<p.length;s++)n=p[s],e.indexOf(n)>=0||(t[n]=a[n]);return t}(a,e);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);for(s=0;s<p.length;s++)n=p[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(t[n]=a[n])}return t}n.d(e,"a",(function(){return s}))}}]);