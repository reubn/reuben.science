(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{5420:function(e,n,t){"use strict";t.d(n,{fb:function(){return D},ZP:function(){return Ke}});var r={};function i(e,n){return+parseFloat(e).toFixed(n)}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||c(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}t.r(r),t.d(r,{US:function(){return w},metric:function(){return O}});var l=3600,f={d:{value:86400,padding:1},h:{value:l,padding:2},m:{value:60,padding:2},s:{value:1,padding:2},ms:{value:.001,padding:3,floor:!1}},d=f.d,y=f.h,m=f.m,v=f.s,h=f.ms,p=Symbol(),g=function(e,n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({},n,{type:"time",isBase:!0,equivalencySymbol:p,format:function(n){var t=n.value;return Object.entries(e).reduce((function(e,n){var t=e.seconds,r=e.components,o=u(n,2),a=o[0],c=o[1],l=c.value,f=c.padding,d=c.floor,y=void 0===d||d;if(!t)return{seconds:t,components:r};var m=y?Math.floor(t/l):t/l,v=t-m*l;return{seconds:v,components:m?s(r).concat([{type:"value",content:(y?m:i(m,2)).toString().padStart(r.length?f:0,"0"),rawValue:m},{type:"unit",content:a},{type:"raw",content:!!v&&" "}]):r}}),{seconds:t,components:[]}).components},parse:function(e){return Object.entries(e).reduce((function(e,n){var t,r=u(n,2),i=r[0];return e+r[1]*((null===(t=f[i])||void 0===t?void 0:t.value)||0)}),0)},comfort:{custom:function(t){var r,i=null===(r=n.isComfortable)||void 0===r?void 0:r.call(n,t);if(void 0!==i&&!0!==i)return{score:0,isInRange:!1};var o=u(Object.entries(e)[0],2),a=(o[0],o[1]),s=a.value,c=a.floor,l=void 0===c||c?Math.floor(t/s):t/s;return{score:1/l,isInRange:!!l}}}})},b={dhmsms:g({d:d,h:y,m:m,s:v,ms:h},{name:"days, hours, minutes, seconds, and milliseconds",colour:"aqua",order:0,alias:"time"}),hmsms:g({h:y,m:m,s:v,ms:h},{name:"hours, minutes, seconds, and milliseconds",colour:"blue",order:1,isComfortable:function(e){return e<=432e3}}),msms:g({m:m,s:v,ms:h},{name:"minutes, seconds, and milliseconds",colour:"purple",order:2,isComfortable:function(e){return e<=43200}}),sms:g({s:v,ms:h},{name:"seconds, and milliseconds",colour:"indigo",order:3,isComfortable:function(e){return e<=7200}}),ms:g({ms:h},{name:"milliseconds",colour:"pink-red",order:4,isComfortable:function(e){return e<=10}})},O=Symbol("metric"),w=Symbol("US"),S={m:{name:"metre",colour:"pink",systems:[O],type:"distance",suffix:!0,isBase:!0,comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[.1,1e3]}}},cm:{name:"centimetre",colour:"red",systems:[O],suffix:!0,parent:"m",toParent:function(e){return e/100},fromParent:function(e){return 100*e},comfort:{range:{comfortableBetween:[1,100],dontShowOutside:[0,1e3]},snapIntervals:[[3,[1]],[-1/0,[]]]}},mm:{name:"millimetre",colour:"blue",systems:[O],suffix:!0,parent:"m",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},comfort:{range:{comfortableBetween:[.5,100],dontShowOutside:[0,100]},snapIntervals:[[-1/0,[]]]}},inch:{name:"inch",colour:"orange",systems:[w],parent:"mm",suffix:'"',toParent:function(e){return 25.4*e},fromParent:function(e){return e/25.4},comfort:{range:{comfortableBetween:[.25,12],dontShowOutside:[.25,12]},snapIntervals:[[-1/0,[.1]]]}}};function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _={time:b,mass:{t:{name:"metric tonne",colour:"blue",systems:[O],type:"mass",parent:"kg",suffix:!0,toParent:function(e){return 1e3*e},fromParent:function(e){return e/1e3},comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[.25,1/0]},snapIntervals:[[4,[10]],[3,[5]],[2,[1]],[-1,[.05]],[-1/0,[]]]}},kg:{name:"kilogram",colour:"pink",systems:[O],type:"mass",suffix:!0,isBase:!0,comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[.1,1e3]},snapIntervals:[[4,[5]],[3,[1]],[2,[.5]],[-1,[.05]],[-1/0,[]]]}},g:{name:"gram",colour:"green",systems:[O],suffix:!0,parent:"kg",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[0,1e3]},snapIntervals:[[3,[5]],[2,[1]],[-1,[.05]],[-1/0,[]]]}},mg:{name:"milligram",colour:"orange",systems:[O],suffix:!0,parent:"g",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[0,1e3]}}},st:{name:"US short ton",colour:"green",systems:[w],suffix:"ton",parent:"lb",toParent:function(e){return 2e3*e},fromParent:function(e){return e/2e3},comfort:{range:{comfortableBetween:[.5,1/0],dontShowOutside:[.5,1/0]},snapIntervals:[[-1/0,[.25]]]}},lb:{name:"US pound",colour:"red",systems:[w],suffix:!0,parent:"kg",toParent:function(e){return e/.45359237},fromParent:function(e){return.45359237*e},comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[.25,2e3]},snapIntervals:[[-1/0,[.25]]]}},oz:{name:"US ounce",colour:"orange",systems:[w],suffix:!0,parent:"lb",toParent:function(e){return e/16},fromParent:function(e){return 16*e},comfort:{range:{comfortableBetween:[0,16],dontShowOutside:[0,32]},snapIntervals:[[-1/0,[.25]]]}}},volume:{l:{name:"litre",label:"L",colour:"red",systems:[O],type:"volume",suffix:!0,isBase:!0,comfort:{range:{comfortableBetween:[.5,1/0],dontShowOutside:[.1,1/0]},snapIntervals:[[4,[10]],[3,[5]],[-1,[.05]],[-1/0,[]]]}},ml:{name:"millilitre",colour:"indigo",systems:[O],suffix:!0,parent:"l",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},comfort:{range:{comfortableBetween:[1,1e3],dontShowOutside:[0,1e4]},snapIntervals:[[4,[10]],[3,[5]],[1,[.5]],[-1/0,[]]]}},tbsp:{name:"tablespoon",colour:"orange",suffix:"Tbsp",parent:"ml",toParent:function(e){return 15*e},fromParent:function(e){return e/15},comfort:{range:{comfortableBetween:[.5,6],dontShowOutside:[.25,6]},snapIntervals:[[-1/0,[.5]]]}},tsp:{name:"teaspoon",colour:"blue",suffix:"Tsp",parent:"ml",toParent:function(e){return 5*e},fromParent:function(e){return e/5},comfort:{range:{comfortableBetween:[.25,6],dontShowOutside:[.25,6]},snapIntervals:[[-1/0,[.5]]]}},usGal:{name:"US gallon",systems:[w],suffix:"gal",parent:"l",toParent:function(e){return 3.785411784*e},fromParent:function(e){return e/3.785411784}},usQuart:{name:"US quart",systems:[w],suffix:"qt",parent:"usGal",toParent:function(e){return e/4},fromParent:function(e){return 4*e}},usPint:{name:"US pint",systems:[w],suffix:"pt",parent:"usQuart",toParent:function(e){return e/2},fromParent:function(e){return 2*e}},usCup:{name:"US average liquid cup",systems:[w],suffix:" cup",parent:"ml",toParent:function(e){return 241.6352946*e},fromParent:function(e){return e/241.6352946}},usFlOz:{name:"US fluid ounce",systems:[w],suffix:"fl oz",parent:"usPint",toParent:function(e){return e/16},fromParent:function(e){return 16*e}}},distance:S,temperature:{K:{name:"kelvin",colour:"pink-red",systems:[O],type:"temperature",suffix:!0,isBase:!0,comfort:{range:{comfortableBetween:[-1/0,1/0],dontShowOutside:[-1/0,1/0]}}},c:{name:"celcius",colour:"blue",systems:[O],suffix:"\xb0C",parent:"K",toParent:function(e){return e+273.15},fromParent:function(e){return e-273.15},comfort:{range:{comfortableBetween:[-1/0,1/0],dontShowOutside:[-1/0,1/0]}}},f:{name:"fahrenheit",colour:"orange",systems:[w],suffix:"\xb0F",parent:"c",toParent:function(e){return 5/9*(e-32)},fromParent:function(e){return 1.8*e+32},comfort:{range:{comfortableBetween:[-1/0,1/0],dontShowOutside:[-1/0,1/0]}}}},angle:{deg:{name:"degree",colour:"blue",type:"angle",suffix:"\xb0",parent:"rad",toParent:function(e){return e/(180/Math.PI)},fromParent:function(e){return e*(180/Math.PI)},comfort:{range:{comfortableBetween:[-1/0,1/0],dontShowOutside:[-1/0,1/0]},snapIntervals:[[-1/0,[]]]}},rad:{name:"radian",colour:"pink",type:"angle",suffix:!0,isBase:!0,comfort:{range:{comfortableBetween:[-1/0,1/0],dontShowOutside:[-1/0,1/0]},snapIntervals:[[-1/0,[]]]}}}},I=Object.fromEntries(Object.entries(_).flatMap((function(e){var n=P(e,2),t=n[0],r=n[1];return Object.entries(r).map((function(e){var n=P(e,2);return[n[0],x({},n[1],{type:t})]}))})));function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function U(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){A(e,n,t[n])}))}return e}function E(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function M(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||F(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){if(e){if("string"===typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}var q=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"_parentChain",new Set),A(this,"_base",void 0),A(this,"_conversionCache",new Map),this.config=n}var n,t,r;return n=e,t=[{key:"alias",get:function(){return this.config.alias}},{key:"name",get:function(){return this.config.name}},{key:"label",get:function(){return this.config.label}},{key:"colour",get:function(){return this.config.colour}},{key:"order",get:function(){return this.config.order||0}},{key:"type",get:function(){return this.config.type}},{key:"format",get:function(){return this.config.format}},{key:"snapIntervalConfig",get:function(){var e;return(null===(e=this.config.comfort)||void 0===e?void 0:e.snapIntervals)||[[4,[5]],[3,[1]],[2,[.5]],[-1,[.05]],[-1/0,[]]]}},{key:"parse",get:function(){return this.config.parse}},{key:"equivalencySymbol",get:function(){return this.config.equivalencySymbol}},{key:"prefix",get:function(){return"boolean"===typeof this.config.prefix&&this.config.prefix?this.label:this.config.prefix}},{key:"suffix",get:function(){return"boolean"===typeof this.config.suffix&&this.config.suffix?this.label:this.config.suffix}},{key:"parent",get:function(){return this.config.isBase?this:e.from(this.config.parent)}},{key:"toParent",get:function(){return this.config.isBase?function(e){return e}:this.config.toParent}},{key:"fromParent",get:function(){return this.config.isBase?function(e){return e}:this.config.fromParent}},{key:"isBase",get:function(){return!!this.config.isBase}},{key:"parentChain",get:function(){return this._parentChain.size||e.resolveCommonAncestor(this,e.units._),this._parentChain}},{key:"base",get:function(){if(this.isBase)return this;if(!this._base){var e,n=!0,t=!1,r=void 0;try{for(var i,o=this.parentChain[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)e=i.value}catch(a){t=!0,r=a}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}this._base=e}return this._base}},{key:"toBase",get:function(){return this.conversionFnTo(this.base)}},{key:"conversionFnTo",value:function(n){var t=e.from(n);if(this._conversionCache.has(t))return this._conversionCache.get(t);var r=e.resolveCommonAncestor(this,t),i=r.commonAncestor,o=r.upChain,a=r.downChain;if(!i)throw"Cannot Convert ".concat(this.label," to Incompatible Unit ").concat(t.label);var u=o.reduce((function(e,n){return function(t){return n.toParent(e?e(t):t)}}),null),s=a.reduce((function(e,n){return function(t){return e?e(n.fromParent(t)):n.fromParent(t)}}),null),c=function(e){return s(u(e))};return this._conversionCache.set(t,c),c}},{key:"compatibleUnits",get:function(){var n=this;return this._compatibleUnits||(this._compatibleUnits=e.unitsArray.filter((function(e){var t=M(e,2);return t[0],t[1].type===n.type})).map((function(e){var n=M(e,2);return n[0],n[1]}))),this._compatibleUnits}},{key:"sensibleUnitsWith",value:function(e,n){var t=this;return this.compatibleUnits.map((function(r){return{unit:r,valueWithUnit:t.conversionFnTo(r)(e),scoreBreakdown:r.comfortableWith(t.conversionFnTo(r)(e),n)}})).filter((function(e){var n=e.scoreBreakdown,t=n.isFilteredOut,r=n.isInRange;return!t&&!1!==r})).map((function(e){var n=e.valueWithUnit;return N({},E(e,["valueWithUnit"]),{valueWithUnit:n,magnitude:Math.abs(Math.log10(n))})})).sort((function(e,n){var t=e.magnitude;return n.magnitude-t})).reduce((function(e,n){var t=e.cursor,r=e.prev,i=e.map;return(null===r||Math.abs(r-n.magnitude)>.001)&&t++,n.score=n.scoreBreakdown.score+t,n.valueScoreAdd=t,{cursor:t,prev:n.magnitude,map:B(i).concat([n])}}),{cursor:-1,prev:null,map:[]}).map.sort((function(e,n){var t=e.scoreBreakdown.snapIntervalRemainder;return n.scoreBreakdown.snapIntervalRemainder-t})).reduce((function(e,n){var t=e.cursor,r=e.prev,i=e.map;return(null===r||Math.abs(r-n.scoreBreakdown.snapIntervalRemainder)>.001)&&t++,n.score=n.score+t+1,n.snapIntervalRemainderScoreAdd=t+1,{cursor:t,prev:n.scoreBreakdown.snapIntervalRemainder,map:B(i).concat([n])}}),{cursor:-1,prev:null,map:[]}).map.sort((function(e,n){var t=e.score;return n.score-t}))}},{key:"comfortableWith",value:function(e,n){var t=this.config.comfort||{},r=t.custom,i=t.range;if(!(null===n||void 0===n?void 0:n(this)))return{isFilteredOut:!0};if(r)return r(e);var o=Math.floor(Math.log10(e)),a=Math.sign(o),u=e?a>-1?o+1:o:0,s=M(this.snapIntervalConfig.find((function(e){return M(e,1)[0]<=u})),2),c=(s[0],s[1].reduce((function(n,t){var r=M([Math.floor(e/t)*t,Math.ceil(e/t)*t].map((function(n){return[Math.abs(e-n),n]})).sort((function(e,n){return M(e,1)[0]-M(n,1)[0]}))[0],2),i=r[0],o=r[1];return i<n.remainder||i===n.remainder&&o<n.snapPoint?{remainder:i,snapInterval:t,snapPoint:o}:n}),{remainder:1/0,snapInterval:1/0,snapPoint:e})),l=c.snapPoint,f=c.remainder,d=null,y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.comfortableBetween,r=M(void 0===t?[]:t,2),i=r[0],o=void 0===i?.5:i,a=r[1],u=void 0===a?1/0:a,s=n.dontShowOutside,c=M(void 0===s?[]:s,2),l=c[0],f=void 0===l?.1:l,d=c[1],y=void 0===d?1/0:d;return e>=o&&e<u||e>=f&&e<y&&null}(e,i);return{score:[d,y,Math.abs(e-Math.floor(e))<1e-5,Math.abs(l-Math.floor(l))<1e-5].reduce((function(e,n,t,r){return e+r.length/(t+1)*(null===n?1:n?2:0)}),0),isUserChosen:d,isInRange:y,snapIntervalRemainder:(f===1/0?0:f)/e}}}],t&&U(n.prototype,t),r&&U(n,r),e}();A(q,"unitsArray",Object.entries(x({},I,{abs:{name:"abs",type:"abs",format:function(e){var n=e.formattedNumber;return e.displayedWithName,[{type:"value",content:n,rawValue:e.value}]},isBase:!0,isComfortable:function(e){return!0}},raw:{name:"raw",type:"raw",format:function(e){return[{type:"unit",content:e.value}]},isBase:!0,isComfortable:function(e){return!0}},_:{name:"_",type:"_",isBase:!0}})).map((function(e){var n=M(e,2),t=n[0],r=n[1];return[t,new q(N({label:t},r))]}))),A(q,"units",Object.fromEntries(q.unitsArray)),A(q,"constants",r),A(q,"from",(function(e){var n,t,r;if(t=e,null!=(r=q)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](t):t instanceof r)return e;var i="undefined"!==typeof e&&q.units[e]||(null===(n=q.unitsArray.find((function(n){var t,r,i=M(n,2),o=(i[0],i[1]);return o.alias===e||(null===(t=o.alias)||void 0===t||null===(r=t.includes)||void 0===r?void 0:r.call(t,e))})))||void 0===n?void 0:n[1]);return i||(console.warn("Unit ".concat(e," not defined, using absolute Unit")),q.units.abs)})),A(q,"convert",(function(e,n,t){return q.from(e).conversionFnTo(n)(t)})),A(q,"resolveCommonAncestor",(function(e,n){for(var t=q.from(e),r=q.from(n),i=t._parentChain,o=r._parentChain,a=function(e){var n=B(i),t=B(o);return n.forEach((function(e,t){return e._parentChain=e._parentChain||new Set(n.slice(t))})),t.forEach((function(e,n){return e._parentChain=e._parentChain||new Set(t.slice(n))})),{commonAncestor:e,upChain:n,downChain:t}};;){if(i.add(t),o.add(r),i.has(r))return a(r);if(o.has(t))return a(t);if(t.isBase&&r.isBase)return a(t===r||t.equivalencySymbol&&t.equivalencySymbol===r.equivalencySymbol?[t,r]:void 0);t.isBase||(t=t.parent),r.isBase||(r=r.parent)}})),A(q,"createAbsolute",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.endsWith("s")?e.slice(0,-1):e;return new q({label:e,name:e,format:function(t){var r=t.formattedNumber,i=t.displayedWithName,o=t.value;return i?[{type:"value",content:r,rawValue:o}]:[{type:"value",content:r,rawValue:o},{type:"unit",content:1===o?n:e,fullSpaceBeforeUnit:!0}]},isBase:!0,comfort:{custom:function(){return{score:1,isInRange:!0}}}})}));var D=q;function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Q(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){L(e,n,t[n])}))}return e}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return W(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(n)?this.config={value:n[0],unit:n[1],sensibleUnits:n[2]}:this.config=n,this.config.unit=D.from(this.config.unit||D.units.abs),this.config.sensibleUnits&&(this.config.sensibleUnits=this.config.sensibleUnits.map((function(e){return D.from(e)})),this.config.sensibleUnits.includes(this.config.unit)||this.config.sensibleUnits.unshift(this.config.unit)),"number"!==typeof this.config.value&&this.config.unit.parse&&(this.config.value=this.config.unit.parse(this.config.value))}var n,t,r;return n=e,t=[{key:"value",get:function(){return this.config.value}},{key:"unit",get:function(){return this.config.unit}},{key:"unitFilterFn",get:function(){return this.config.unitFilterFn}},{key:"comfort",get:function(){return this.unit.comfortableWith(this.value,this.unitFilterFn)}},{key:"sensibleUnits",get:function(){return this.unit.sensibleUnitsWith(this.value,this.unitFilterFn)}},{key:"betterUnitChoice",get:function(){var e=this,n=this.sensibleUnits;if(!n.length)return null;var t=n[0],r=t.score,i=t.unit,o=(n.find((function(n){return n.unit===e.unit}))||{}).score;return void 0===o||r>o?i:null}},{key:"convert",value:function(n){var t=D.from(n);if(t===this.unit)return this;var r=this.unit.conversionFnTo(t)(this.value);return new e(R({},this.config,{value:r,unit:t}))}},{key:"transform",value:function(n){return n?new e(R({},this.config,{value:n(this.value)})):this}},{key:"formatted",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.displayedWithName,r=void 0!==t&&t,o=this,a=r?"_formattedDisplayedWithName":"_formattedDisplayedWithoutName";if(this[a])return this[a];var u=Object.entries({"\xbc":.25,"\xbd":.5,"\xbe":.75,"\u2153":.3333333333333333,"\u2154":.6666666666666666}),s=Math.floor(this.value),c=Math.floor(Math.log10(this.value)),l=Math.sign(c),f=this.value?l>-1?c+1:c:0,d=T(this.unit.snapIntervalConfig.find((function(e){return T(e,1)[0]<=f})),2),y=(d[0],d[1]),m=y.reduce((function(e,n){var t=o,r=T([Math.floor(o.value/n)*n,Math.ceil(o.value/n)*n].map((function(e){return[Math.abs(t.value-e),e]})).sort((function(e,n){return T(e,1)[0]-T(n,1)[0]}))[0],2),i=r[0],a=r[1];return i<e.remainder||i===e.remainder&&a<e.snapPoint?{remainder:i,snapInterval:n,snapPoint:a}:e}),{remainder:1/0,snapInterval:1/0,snapPoint:this.value}),v=m.snapPoint,h=f>=3,p=v%1,g=!h&&p>1e-4&&(null===(e=u.find((function(e){var n=T(e,2),t=(n[0],n[1]);return Math.abs(p-t)<=1e-6})))||void 0===e?void 0:e[0]),b=!h&&g&&(s?"".concat(s).concat(g):g),O=h?v:b||i(v,2);return this.unit.format?this[a]=this.unit.format({value:this.value,formattedNumber:O,displayedWithName:r}):this[a]=[this.unit.prefix&&{type:"unit",content:this.unit.prefix},{type:"value",content:O,rawValue:this.value},this.unit.suffix&&{type:"unit",content:this.unit.suffix}].filter((function(e){return e})),this[a]}}],t&&Q(n.prototype,t),r&&Q(n,r),e}();L(H,"from",(function(e){return n=e,(null!=(t=H)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t)?e:new H(e);var n,t})),L(H,"equal",(function(e,n){return e.value===n.value&&e.unit===n.unit}));var V=H;function $(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var z=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,"_displayQuantity",null),this.config=t,this.recipe=n,this.hasQuantity&&(this.displayUnit=this.quantity.unit)}var n,t,r;return n=e,t=[{key:"id",get:function(){return this.config.id}},{key:"name",get:function(){return this.config.name}},{key:"colour",get:function(){return this.config.colour||"accent"}},{key:"comment",get:function(){return this.config.comment}},{key:"hasQuantity",get:function(){return!!this.config.quantity}},{key:"quantity",get:function(){if(this.hasQuantity)return V.from(this.config.quantity)}},{key:"setDisplayUnit",value:function(e){this.hasQuantity&&(this.displayUnit=e,this._displayQuantity=null,this.recipe.ingredientUpdated())}},{key:"displayQuantity",get:function(){if(this.hasQuantity){if(!this._displayQuantity){var e,n,t,r=!this.config.doNotScale&&(null!==(n=null===(e=this.config.scaleFn)||void 0===e?void 0:e.bind(null,this.recipe))&&void 0!==n?n:this.recipe.scaleFn);this._displayQuantity=this.quantity.transform(r).convert(this.displayUnit),this._displayQuantity.config.unitFilterFn=(null!==(t=this.config.unitFilterFn)&&void 0!==t?t:this.recipe.unitFilterFn).bind(this.recipe)}return this._displayQuantity}}},{key:"withScale",value:function(n){if(!this.hasQuantity)return this;var t=new e(this.recipe,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){J(e,n,t[n])}))}return e}({},this.config,{quantity:this.quantity.transform((function(e){return n*e}))}));return t.recipeUpdated(),t}},{key:"setHover",value:function(e){this.hover=e,this.recipe.ingredientUpdated()}},{key:"setQuantity",value:function(e){this.config.quantity=V.from(e),this.displayUnit=this.config.quantity.unit,this.recipe.ingredientUpdated()}},{key:"recipeUpdated",value:function(){if(this.hasQuantity){this._displayQuantity=null;var e=this.displayQuantity.betterUnitChoice;e&&this.setDisplayUnit(e)}}}],t&&$(n.prototype,t),r&&$(n,r),e}(),G=z;function Y(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(n){var t,r,i,o,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,o="unitFilterFn",a=null!==(r=null===(t=this.config)||void 0===t?void 0:t.unitFilterFn)&&void 0!==r?r:function(e){return!0},o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,this.config=n,this.ingredients={},this.listeners=new Set}var n,t,r;return n=e,(t=[{key:"scale",get:function(){return this.config.scale||1}},{key:"scaleFn",get:function(){var e=this;return function(n){return"number"===typeof n?n*e.scale:n}}},{key:"setScale",value:function(e){this.config.scale!==e&&(this.config.scale=e,this.recipeUpdated())}},{key:"setUnitFilterFn",value:function(e){this.unitFilterFn=e,this.recipeUpdated()}},{key:"hasIngredient",value:function(e){return!!this.ingredients[e]}},{key:"addIngredient",value:function(e){var n=new G(this,e);if(this.hasIngredient(n.id))throw"Ingredient with id ".concat(id," already defined");return this.ingredients[n.id]=n,n.recipeUpdated(),this.ingredients[n.id]}},{key:"removeIngredient",value:function(e){delete this.ingredients[e]}},{key:"getIngredient",value:function(e){return this.ingredients[e]}},{key:"addListener",value:function(e){this.listeners.add(e)}},{key:"removeListener",value:function(e){this.listeners.delete(e)}},{key:"recipeUpdated",value:function(){var e=!0,n=!1,t=void 0;try{for(var r,i=this.listeners.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)(0,r.value)()}catch(l){n=!0,t=l}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}var o=!0,a=!1,u=void 0;try{for(var s,c=Object.values(this.ingredients)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)s.value.recipeUpdated()}catch(l){a=!0,u=l}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}}},{key:"ingredientUpdated",value:function(){var e=!0,n=!1,t=void 0;try{for(var r,i=this.listeners.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)(0,r.value)()}catch(o){n=!0,t=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}}])&&Y(n.prototype,t),r&&Y(n,r),e}(),X=t(5893),Z=t(7294),ee=t(6556);function ne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function te(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var re=function(e){var n=e.quantity,t=e.isInteractive,r=e.isHovered,o=e.displayedWithName,a=e.className,u=te(e,["quantity","isInteractive","isHovered","displayedWithName","className"]),s=n.formatted({displayedWithName:o}),c=n.unit,l=s.map((function(e,n){var t=e.type,r=e.content,o=e.fullSpaceBeforeUnit,a=e.alt,u=void 0===a?c.name:a,s=e.rawValue;return{value:function(){return(0,X.jsx)("span",{className:ee.value,title:s&&i(s,4),children:r},"value-".concat(r,"-").concat(n))},unit:function(){return(0,X.jsxs)(Z.Fragment,{children:[(0,X.jsx)("span",{style:o?void 0:{display:"inline-block",width:"1px"},children:" "}),(0,X.jsx)("span",{className:ee.unit,title:u,children:r})]},"unit-".concat(r,"-").concat(n))},raw:function(){return r}}[t]()}));return(0,X.jsx)("span",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ne(e,n,t[n])}))}return e}({className:[ee.quantity,a,t&&ee.interactive,r&&ee.hover].filter((function(e){return e})).join(" "),style:{"--unit-accent":"var(--colours-".concat(c.colour,")")}},u,{children:l}))},ie=t(6424);function oe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ae(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var ue=function(e){var n=e.ingredient,t=e.displayedWithName,r=void 0===t||t,i=e.displayedWithQuantity,o=void 0===i||i,a=e.quantityInteractive,u=void 0!==a&&a,s=e.highlightOnHover,c=void 0===s?void 0:s,l=e.className,f=e.onNameClick,d=e.children,y=ae(e,["ingredient","displayedWithName","displayedWithQuantity","quantityInteractive","highlightOnHover","className","onNameClick","children"]),m=n.displayQuantity,v=n.hover===c,h=u&&(0,Z.useMemo)((function(){return null===m||void 0===m?void 0:m.sensibleUnits}),[m]),p=h&&h.length>1,g=p&&function(){var e=(h.findIndex((function(e){return e.unit===m.unit}))+1)%h.length;n.setDisplayUnit(h[e].unit)},b=r&&(0,X.jsxs)("span",{style:{"--ingredient-accent":"var(--colours-".concat(n.colour,")"),cursor:f?"pointer":void 0},onClick:f,children:[" ",(0,X.jsx)("span",{className:ie.name,children:d||n.name}),n.comment&&(0,X.jsxs)("span",{className:ie.comment,children:[" ",["-","+","(","[","/"].includes(n.comment[0])?"":"- ",n.comment]})]});return(0,X.jsxs)("span",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){oe(e,n,t[n])}))}return e}({className:[l,v&&ie.hover].filter((function(e){return e})).join(" ")},y,{children:[o&&m&&(0,X.jsx)(re,{quantity:m,isInteractive:p,isHovered:v,displayedWithName:r,onClick:g||void 0,onMouseDown:function(e){return e.detail>=2&&e.preventDefault()}}),b]}))},se=t(9084);function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function le(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var fe=function(e){var n=e.id;return"saved-checked-".concat(n)},de=function(e){var n=e.ingredient,t=e.alternative,r=(e.isAlternative,e.displayedWithQuantity),i=e.children,o=(0,Z.useState)(!1),a=o[0],u=o[1];return(0,Z.useEffect)((function(){return u(function(e){return"true"===sessionStorage.getItem(fe(e))}(n))}),[]),(0,Z.useEffect)((function(){return function(e,n){return sessionStorage.setItem(fe(e),n)}(n,a)}),[a]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(ue,{onMouseEnter:function(){return n.setHover("definition")},onMouseLeave:function(){return n.setHover(!1)},onNameClick:function(){return!a&&u(!0)},ingredient:n,displayedWithName:!0,displayedWithQuantity:r,quantityInteractive:!a,highlightOnHover:"link",className:"".concat(se.checkable," ").concat(a&&se.checked),onClick:function(){return a&&u(!1)},children:i}),t&&(0,X.jsxs)("span",{className:se.alternative,children:[" or ",(0,Z.cloneElement)(t,{isAlternative:!0})]})]})},ye=function(e){return function(n){var t=n.id,r=n.alternative,i=n.isAlternative,o=void 0!==i&&i,a=n.display,u=void 0===a||a,s=n.displayedWithQuantity,c=n.children,l=le(n,["id","alternative","isAlternative","display","displayedWithQuantity","children"]),f=e.getIngredient(t)||e.addIngredient(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ce(e,n,t[n])}))}return e}({id:t},l)),d=(0,Z.useState)(),y=(d[0],d[1]);return(0,Z.useEffect)((function(){var n=function(){return y({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),u?(0,Z.useMemo)((function(){return(0,X.jsx)(de,{ingredient:f,alternative:r,isAlternative:o,displayedWithQuantity:s,children:c})}),[f,f.displayUnit,f.hover,e.scale,c,r,o,s]):null}},me=t(1239);function ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function he(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var pe=function(e){var n=e.ingredient,t=e.quantityOnly,r=void 0!==t&&t,i=e.inlineQuantity,o=void 0===i?r:i,a=e.children;return(0,X.jsxs)("span",{className:[me.link,n.hover&&me.hover].filter((function(e){return e})).join(" "),style:{"--ingredient-accent":"var(--colours-".concat(n.colour,")")},onMouseEnter:function(){return n.setHover("link")},onMouseLeave:function(){return n.setHover(!1)},children:[n.hasQuantity&&(0,X.jsxs)(X.Fragment,{children:[!o&&(0,X.jsx)("span",{className:me.mousetrap}),(0,X.jsx)(ue,{ingredient:n,displayedWithName:!1,quantityInteractive:!0,className:!o&&me.quantity})]}),!r&&(0,X.jsxs)("span",{className:me.label,children:[o?" ":"",a||n.name.toLowerCase()]})]})},ge=function(e){return function(n){var t=n.id,r=n.ingredient,i=void 0===r?e.getIngredient(t):r,o=n.doNotSubscribe,a=n.scale,u=void 0===a?1:a,s=he(n,["id","ingredient","doNotSubscribe","scale"]);if(!i)throw"Ingredient ".concat(t," not defined");var c=(0,Z.useMemo)((function(){return 1===u?i:i.withScale(u)}),[i,i.displayUnit,i.hover,e.scale,u]),l=(0,Z.useState)(),f=(l[0],l[1]);return(0,Z.useEffect)((function(){if(!o){var n=function(){return f({})};return e.addListener(n),function(){return e.removeListener(n)}}}),[]),(0,Z.useMemo)((function(){return(0,X.jsx)(pe,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ve(e,n,t[n])}))}return e}({ingredient:c},s))}),[c,c.displayUnit,c.hover,e.scale])}},be=ge,Oe=t(2669);function we(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Se(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function je(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ke(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return we(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return we(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=function(e){return{string:i(e,2)+"",number:e}},Pe=function(e){return{string:i(e,2)+"x",number:e}},_e=function(e,n,t,r){var i;if(1===r.length)return 1;var o;return e+(null!==(o=null===(i=[[.5,"."],[.75,"1"]].find((function(e){var t=ke(e,2);t[0];return t[1].includes(n)})))||void 0===i?void 0:i[0])&&void 0!==o?o:1)},Ie=function(e){var n=e.scale,t=e.servingsAsWritten,r=e.servingsChanged,o=e.scaleChanged,a=e.plural,u=e.singular,s=void 0===u?a.endsWith("s")?a.slice(0,-1):a:u,c=(0,Z.useRef)(),l=(0,Z.useRef)(),f=(0,Z.useRef)(),d=(0,Z.useRef)(),y=(0,Z.useRef)(),m=n*t,v=1!==m?a:s,h=(0,Z.useState)(xe(m)),p=h[0],g=h[1],b=(0,Z.useState)(Pe(n)),O=b[0],w=b[1],S=function(e){return g({string:e+"",number:+e})},j=function(e){return w({string:e+"",number:+(e+"").replace(/x$/,"")})};(0,Z.useEffect)((function(){m!==d.current&&g(xe(m))}),[m]),(0,Z.useEffect)((function(){n!==y.current&&w(Pe(n))}),[n]),(0,Z.useEffect)((function(){d.current=p.number,r(p)}),[p]),(0,Z.useEffect)((function(){y.current=O.number,o(O)}),[O]);var k=i(m,2)+"";(0,Z.useEffect)((function(){var e,n=function(e){var n=l.current.value||l.current.placeholder;"ArrowUp"!==e.key&&"="!==e.key&&"+"!==e.key||(e.preventDefault(),e.stopPropagation(),S(Math.floor(n)+1)),"ArrowDown"!==e.key&&"-"!==e.key&&"_"!==e.key||(e.preventDefault(),e.stopPropagation(),n>1&&S(Math.ceil(n)-1)),"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),l.current.blur())};return null===(e=c.current)||void 0===e||e.addEventListener("keydown",n),function(){var e;return null===(e=c.current)||void 0===e?void 0:e.removeEventListener("keydown",n)}}),[c.current]),(0,Z.useEffect)((function(){var e,n=function(e){var n=(e.target.value||e.target.placeholder).replace(/x$/,"");"ArrowUp"!==e.key&&"="!==e.key&&"+"!==e.key||(e.preventDefault(),j(Math.floor(n)+1+"x")),"ArrowDown"!==e.key&&"-"!==e.key&&"_"!==e.key||(e.preventDefault(),n>1&&j(Math.ceil(n)-1+"x")),"Enter"===e.key&&(e.preventDefault(),e.target.blur())};return null===(e=f.current)||void 0===e||e.addEventListener("keydown",n),function(){var e;return null===(e=f.current)||void 0===e?void 0:e.removeEventListener("keydown",n)}}),[f.current]);var x=(p.string||k).split("").reduce(_e,0),P=O.string.split("").reduce(_e,0);return(0,X.jsx)("div",{className:Oe.container,children:(0,X.jsxs)("div",{className:Oe.content,children:[(0,X.jsxs)("h3",{className:Oe.title,children:[(0,X.jsx)("span",{className:Oe.icon,children:"\ud83d\udd22"})," Recipe Makes"]}),(0,X.jsxs)("div",{ref:c,className:Oe.control,style:{"--digits":x},children:[(0,X.jsx)("input",{ref:l,type:"text",inputMode:"decimal","aria-label":"Number of ".concat(a),className:Oe.input,value:p.string,placeholder:k,onChange:function(e){return S(e.target.value)},onBlur:function(e){if(!p.number){var n=p.string.replace(/[^\d\.]/g,"");g(xe(+n?n:m))}}}),(0,X.jsx)("input",{type:"text",className:Oe.servingsName,style:{"--maxLetters":Math.max(a.length,s.length),"--letters":v.length},value:v,onChange:function(){return 0},tabIndex:"-1",role:"presentation",onClick:function(){var e=l.current.value.length;l.current.setSelectionRange(e,e),l.current.focus()}}),(0,X.jsxs)("div",{className:Oe.incDec,children:[(0,X.jsx)("button",{onClick:function(){return S(Math.floor(l.current.value||l.current.placeholder)+1)},children:"+"}),(0,X.jsx)("button",{onClick:function(){return S(Math.ceil(l.current.value||l.current.placeholder)-1)},disabled:m<=1,children:"\u2212"})]})]}),(0,X.jsx)("span",{className:Oe.equals,children:"="}),(0,X.jsx)("input",{ref:f,type:"text",inputMode:"decimal","aria-label":"recipe scale factor",className:Oe.recipeScaleInput,style:{"--digits":P},value:O.string,placeholder:"1x",onChange:function(e){return j(e.target.value)},onMouseDown:function(e){if(document.activeElement!==e.target){e.preventDefault();var n=(e.target.value||e.target.placeholder).replace(/x$/,"").length;e.target.setSelectionRange(n,n),e.target.focus()}},onClick:function(e){return e.preventDefault()},onBlur:function(e){if(!O.number||!O.string.endsWith("x")){var t=O.string.replace(/[^\d\.]/g,"");+t?j(t+"x"):w(Pe(n))}}})]})})},Ce=function(e){return function(n){var t=n.servings,r=je(n,["servings"]),i=function(n){n.string;var r=n.number;if(!(r<=0)){var i=r/t;e.setScale(i)}},o=function(n){var t=n.string,r=n.number;e.scale===r||t.endsWith(".x")||!t.endsWith("x")||r<=0||isNaN(r)||e.setScale(r)},a=(0,Z.useState)(),u=(a[0],a[1]);return(0,Z.useEffect)((function(){var n=function(){return u({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),(0,Z.useMemo)((function(){return(0,X.jsx)(Ie,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Se(e,n,t[n])}))}return e}({servingsAsWritten:t,scale:e.scale,servingsChanged:i,scaleChanged:o},r))}),[e.scale,t])}},Ue=t(5291),Ae=t(4074);function Ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Me(){return Me=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Me.apply(this,arguments)}function Be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ee(e,n,t[n])}))}return e}function Fe(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function qe(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Ne(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ne(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De=[{name:"Metric",unitSystem:O,colour:"blue"},{name:"US",unitSystem:w,colour:"red"},{name:"Imperial",unitSystem:Symbol("imperial"),colour:"green"}],We=function(e){var n=e.options;e.removingLastDisabled;return(0,X.jsx)("div",{className:Ae.container,children:(0,X.jsxs)("div",{className:Ae.content,children:[(0,X.jsxs)("h3",{className:Ae.title,children:[(0,X.jsx)("span",{className:Ae.icon,children:"\u2696\ufe0f"})," Preferred Units"]}),(0,X.jsx)("div",{className:Ae.control,children:n.map((function(e,n){var t=e.name,r=e.colour,i=e.checked,o=e.onChange;return(0,X.jsxs)(Z.Fragment,{children:[(0,X.jsx)("input",{type:"checkbox",id:n,checked:i,onChange:o}),(0,X.jsx)("label",{htmlFor:n,style:{"--option-underline":(0,Ue.Z)(r)},children:(0,X.jsx)("span",{children:t})})]},t)}))})]})})},Qe="unitSystem",Le=function(e){return function(n){var r=Me({},n),i=(0,Z.useRef)(function(){var e,n;if(!t.g.navigator)return new Set;var r=(null===navigator||void 0===navigator||null===(e=navigator.languages)||void 0===e?void 0:e.length)?null===navigator||void 0===navigator?void 0:navigator.languages[0]:null===navigator||void 0===navigator?void 0:navigator.language,i=r&&new Intl.Locale(r),o=(null!==i&&void 0!==i?i:{}).region,a={US:[w],CA:[w,O],default:[O]},u=null===(n=t.g.localStorage)||void 0===n?void 0:n.getItem(Qe),s=u?JSON.parse(u).filter((function(e){return e})):null,c=(null===s||void 0===s?void 0:s.length)&&(null===s||void 0===s?void 0:s.map((function(e){var n;return null===(n=De.find((function(n){return n.name===e})))||void 0===n?void 0:n.unitSystem})));return new Set(c||a[o]||a.default)}()).current,o=i.size<=1,a=function(n,r){var a,u;if(r)i.add(n);else if(i.delete(n),o){var s=(De.findIndex((function(e){return e.unitSystem===n}))+1)%De.length;i.add(De[s].unitSystem)}e.setUnitFilterFn((function(e){var n,t;return null===(u=null===(n=e.config.systems)||void 0===n||null===(t=n.some)||void 0===t?void 0:t.call(n,(function(e){return i.has(e)})))||void 0===u||u}));var c=JSON.stringify(qe(i.values()).map((function(e){var n;return null===(n=De.find((function(n){var t=n.unitSystem;return e===t})))||void 0===n?void 0:n.name})));null===(a=t.g.localStorage)||void 0===a||a.setItem(Qe,c)},u=De.map((function(e){var n=e.unitSystem;return Be({},Fe(e,["unitSystem"]),{unitSystem:n,checked:i.has(n),onChange:function(e){var t=e.target.checked;return a(n,t)}})})),s=(0,Z.useState)(),c=(s[0],s[1]);return(0,Z.useEffect)((function(){a();var n=function(){return c({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),(0,Z.useMemo)((function(){return(0,X.jsx)(We,Be({options:u,removingLastDisabled:o},r))}),[u,o])}};function Re(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Re(e,n,t[n])}))}return e}function He(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var Ve=function(e){var n=e.IngredientLink,t=e.ingredient,r=He(e,["IngredientLink","ingredient"]);return(0,X.jsx)(n,Te({ingredient:t,quantityOnly:!0,wrapped:!0},r))},$e=function(e){var n=ge(e);return function(t){var r=t.id,i=void 0===r?Math.random()+"":r,o=t.display,a=void 0===o||o,u=t.shouldScale,s=void 0!==u&&u,c=t.quantity,l=He(t,["id","display","shouldScale","quantity"]),f=(0,Z.useRef)(i).current,d=e.getIngredient(f);(0,Z.useEffect)((function(){d&&!d.hasQuantity&&c&&d.setQuantity(c)}),[d]);var y=d||e.addIngredient({id:f,doNotScale:!s,quantity:c}),m=(0,Z.useState)(),v=(m[0],m[1]);return(0,Z.useEffect)((function(){var n=function(){return v({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),a?(0,Z.useMemo)((function(){return(0,X.jsx)(Ve,Te({IngredientLink:n,ingredient:y},l))}),[y,y.displayUnit,y.quantity,e.scale]):null}},Je=t(4550);function ze(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ze(e,n,t[n])}))}return e}var Ye=function(e){var n=e.ServingsControl,t=e.UnitSystemControl;return function(e){return(0,X.jsxs)("section",{className:Je.container,children:[(0,X.jsx)(n,Ge({},e)),(0,X.jsx)(t,Ge({},e))]})}},Ke=function(e){var n=new K(e||{}),t=Ce(n),r=Le(n);return{recipe:n,IngredientDefinition:ye(n),IngredientLink:be(n),ServingsControl:t,UnitSystemControl:r,InlineQuantity:$e(n),RecipeConfig:Ye({ServingsControl:t,UnitSystemControl:r})}}},9084:function(e){e.exports={checkable:"styles_checkable__W_cSm",checked:"styles_checked__xhOkN",alternative:"styles_alternative__bnIbH"}},1239:function(e){e.exports={link:"styles_link__m53bG",label:"styles_label__MIwYh",quantity:"styles_quantity__81sYR",hover:"styles_hover__tS5S6",mousetrap:"styles_mousetrap__tb9PN"}},6424:function(e){e.exports={name:"styles_name__lSuFF",hover:"styles_hover__vuuzx",comment:"styles_comment__ADaEE"}},6556:function(e){e.exports={value:"styles_value__0VJUJ",unit:"styles_unit__A1j7E",quantity:"styles_quantity__UsJtc",interactive:"styles_interactive__KwCoA"}},4550:function(e){e.exports={container:"styles_container__Fpg4c"}},2669:function(e){e.exports={container:"styles_container__JrI1v",content:"styles_content__uosqR",title:"styles_title__L0hhr",icon:"styles_icon__JsnCd",control:"styles_control__mDFpu",input:"styles_input__vqXnk",servingsName:"styles_servingsName__HuX_D",incDec:"styles_incDec__twy_r",equals:"styles_equals__RUzEB",recipeScaleInput:"styles_recipeScaleInput__otYY4"}},4074:function(e){e.exports={container:"styles_container__AG45e",content:"styles_content__C3dyF",title:"styles_title__Vux7w",icon:"styles_icon__pSJiX",control:"styles_control__V9sPm"}},1151:function(e,n,t){"use strict";t.d(n,{ah:function(){return o}});var r=t(7294);const i=r.createContext({});function o(e){const n=r.useContext(i);return r.useMemo((()=>"function"===typeof e?e(n):{...n,...e}),[n,e])}}}]);