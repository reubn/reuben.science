(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6154],{2352:function(e,n,t){"use strict";function r(e,n){return+parseFloat(e).toFixed(n)}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"===typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}t.d(n,{fb:function(){return Q},ZP:function(){return Le}});var c=3600,l={d:{value:86400,padding:1},h:{value:c,padding:2},m:{value:60,padding:2},s:{value:1,padding:2},ms:{value:.001,padding:3,floor:!1}},f=l.d,y=l.h,d=l.m,h=l.s,m=l.ms,v=Symbol(),p=function(e,n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({},n,{type:"time",isBase:!0,equivalencySymbol:v,format:function(n){var t=n.value;return Object.entries(e).reduce((function(e,n){var t=e.seconds,i=e.components,o=a(n,2),s=o[0],c=o[1],l=c.value,f=c.padding,y=c.floor,d=void 0===y||y;if(!t)return{seconds:t,components:i};var h=d?Math.floor(t/l):t/l,m=t-h*l;return{seconds:m,components:h?u(i).concat([["value",(d?h:r(h,2)).toString().padStart(i.length?f:0,"0")],["unit",s],["raw",!!m&&" "]]):i}}),{seconds:t,components:[]}).components},parse:function(e){return Object.entries(e).reduce((function(e,n){var t,r=a(n,2),i=r[0];return e+r[1]*((null===(t=l[i])||void 0===t?void 0:t.value)||0)}),0)},isComfortable:function(t){var r,i=null===(r=n.isComfortable)||void 0===r?void 0:r.call(n,t);if(void 0!==i&&!0!==i)return i;var o=a(Object.entries(e)[0],2),u=(o[0],o[1]),s=u.value,c=u.floor;return!!(void 0===c||c?Math.floor(t/s):t/s)}})},b={dhmsms:p({d:f,h:y,m:d,s:h,ms:m},{name:"days, hours, minutes, seconds, and milliseconds",colour:"aqua",order:0,alias:"time"}),hmsms:p({h:y,m:d,s:h,ms:m},{name:"hours, minutes, seconds, and milliseconds",colour:"blue",order:1,isComfortable:function(e){return e<=432e3}}),msms:p({m:d,s:h,ms:m},{name:"minutes, seconds, and milliseconds",colour:"purple",order:2,isComfortable:function(e){return e<=43200}}),sms:p({s:h,ms:m},{name:"seconds, and milliseconds",colour:"indigo",order:3,isComfortable:function(e){return e<=7200}}),ms:p({ms:m},{name:"milliseconds",colour:"pink-red",order:4,isComfortable:function(e){return e<=10}})},g=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-7;return function(r){var i=n?function(e,n){return e<=n}:function(e,n){return e>=n},o=e.map((function(e){return i(Math.abs(r-e),t)}));return n?o.some((function(e){return e})):o.every((function(e){return e}))}},O=[0,.25,.5,.75],j=g(O,!0),w=.075,k=g(O,!0,w),S=g(O,!1,w),x={l:{name:"litre",label:"L",colour:"red",type:"volume",suffix:!0,isBase:!0,isComfortable:function(e){return!(e<1)||"ml"},sensibleUnits:function(e,n){e<10&&n.push("ml")}},ml:{name:"millilitre",colour:"indigo",suffix:!0,parent:"l",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},isComfortable:function(e){var n=e/15;if(n<=9&&k(n%1))return"tbsp";var t=e/5;return t<=9&&k(t%1)?"tsp":!(e>=1e3)||"l"},sensibleUnits:function(e,n){e<=50&&n.push("tsp"),e<=150&&n.push("tbsp"),e>=100&&n.push("l")}},tbsp:{name:"tablespoon",colour:"orange",suffix:"Tbsp",parent:"ml",toParent:function(e){return 15*e},fromParent:function(e){return e/15},isComfortable:function(e){if(S(e%1)){var n=3*e;if(n<=9&&k(n%1))return"tsp";if(15*e%5===0)return"ml"}return e<=.425?"ml":!(e>=9)||"ml"},sensibleUnits:function(e){return["tsp","ml"]}},tsp:{name:"teaspoon",colour:"blue",suffix:"Tsp",parent:"ml",toParent:function(e){return 5*e},fromParent:function(e){return e/5},isComfortable:function(e){var n=e/3;return n<=9&&j(n%1)?"tbsp":e<=.425?"ml":!(e>=9)||"ml"},sensibleUnits:function(e){return["tbsp","ml"]}}};function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A={time:b,mass:{t:{name:"metric tonne",colour:"blue",type:"mass",parent:"kg",suffix:!0,toParent:function(e){return 1e3*e},fromParent:function(e){return e/1e3},sensibleUnits:function(e,n){e<=10&&n.push("kg")}},kg:{name:"kilogram",colour:"pink",type:"mass",suffix:!0,isBase:!0,sensibleUnits:function(e,n){e>=100&&n.push("t"),e<=10&&n.push("g")}},g:{name:"gram",colour:"green",suffix:!0,parent:"kg",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},sensibleUnits:function(e,n){e>=100&&n.push("kg")}}},volume:x,distance:{m:{name:"metre",colour:"pink",type:"distance",suffix:!0,isBase:!0,isComfortable:function(e){return e<.1?"mm":!(e<1)||"cm"}},cm:{name:"centimetre",colour:"red",suffix:!0,parent:"m",toParent:function(e){return e/100},fromParent:function(e){return 100*e},isComfortable:function(e){return e<1?"mm":!(e>=100)||"m"}},mm:{name:"millimetre",colour:"blue",suffix:!0,parent:"m",toParent:function(e){return e/1e3},fromParent:function(e){return 1e3*e},isComfortable:function(e){return!(e>=100)||"cm"}},inch:{name:"inch",colour:"orange",parent:"mm",suffix:'"',toParent:function(e){return 25.4*e},fromParent:function(e){return e/25.4},isComfortable:function(e){return!(e>=12)}}},temperature:{K:{name:"kelvin",colour:"pink-red",type:"temperature",suffix:!0,isBase:!0,isComfortable:function(e){return!0}},c:{name:"celcius",colour:"blue",suffix:"\xb0C",parent:"K",toParent:function(e){return e+273.15},fromParent:function(e){return e-273.15},isComfortable:function(e){return!0}},f:{name:"fahrenheit",colour:"orange",suffix:"\xb0F",parent:"c",toParent:function(e){return 5/9*(e-32)},fromParent:function(e){return 1.8*e+32},isComfortable:function(e){return!0}}},angle:{deg:{name:"degree",colour:"blue",type:"angle",suffix:"\xb0",parent:"rad",toParent:function(e){return e/(180/Math.PI)},fromParent:function(e){return e*(180/Math.PI)},isComfortable:function(e){return!0}},rad:{name:"radian",colour:"pink",type:"angle",suffix:!0,isBase:!0,isComfortable:function(e){return!0}}}},U=Object.fromEntries(Object.entries(A).flatMap((function(e){var n=I(e,2),t=n[0],r=n[1];return Object.entries(r).map((function(e){var n=I(e,2);return[n[0],C({},n[1],{type:t})]}))})));function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function N(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){M(e,n,t[n])}))}return e}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||B(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){if(e){if("string"===typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,n):void 0}}var L=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"_parentChain",new Set),M(this,"_base",void 0),M(this,"_conversionCache",new Map),this.config=n}var n,t,r;return n=e,(t=[{key:"alias",get:function(){return this.config.alias}},{key:"name",get:function(){return this.config.name}},{key:"label",get:function(){return this.config.label}},{key:"colour",get:function(){return this.config.colour}},{key:"order",get:function(){return this.config.order||0}},{key:"type",get:function(){return this.config.type}},{key:"format",get:function(){return this.config.format}},{key:"snapIntervalConfig",get:function(){return this.config.snapIntervalConfig||[[4,[10]],[3,[5]],[2,[1]],[-1,[.25]],[-1/0,[]]]}},{key:"parse",get:function(){return this.config.parse}},{key:"equivalencySymbol",get:function(){return this.config.equivalencySymbol}},{key:"prefix",get:function(){return"boolean"===typeof this.config.prefix&&this.config.prefix?this.label:this.config.prefix}},{key:"suffix",get:function(){return"boolean"===typeof this.config.suffix&&this.config.suffix?this.label:this.config.suffix}},{key:"parent",get:function(){return this.config.isBase?this:e.from(this.config.parent)}},{key:"toParent",get:function(){return this.config.isBase?function(e){return e}:this.config.toParent}},{key:"fromParent",get:function(){return this.config.isBase?function(e){return e}:this.config.fromParent}},{key:"isBase",get:function(){return!!this.config.isBase}},{key:"parentChain",get:function(){return this._parentChain.size||e.resolveCommonAncestor(this,e.units._),this._parentChain}},{key:"base",get:function(){if(this.isBase)return this;if(!this._base){var e,n=!0,t=!1,r=void 0;try{for(var i,o=this.parentChain[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)e=i.value}catch(a){t=!0,r=a}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}this._base=e}return this._base}},{key:"toBase",get:function(){return this.conversionFnTo(this.base)}},{key:"conversionFnTo",value:function(n){var t=e.from(n);if(this._conversionCache.has(t))return this._conversionCache.get(t);var r=e.resolveCommonAncestor(this,t),i=r.commonAncestor,o=r.upChain,a=r.downChain;if(!i)throw"Cannot Convert ".concat(this.label," to Incombatible Unit ").concat(t.label);var u=o.reduce((function(e,n){return function(t){return n.toParent(e?e(t):t)}}),null),s=a.reduce((function(e,n){return function(t){return e?e(n.fromParent(t)):n.fromParent(t)}}),null),c=function(e){return s(u(e))};return this._conversionCache.set(t,c),c}},{key:"compatibleUnits",get:function(){var n=this;return this._compatibleUnits||(this._compatibleUnits=e.unitsArray.filter((function(e){var t=D(e,2);return t[0],t[1].type===n.type})).map((function(e){var n=D(e,2);return n[0],n[1]}))),this._compatibleUnits}},{key:"sensibleUnitsWith",value:function(n){var t=this,r=null;if("undefined"!==typeof this.config.sensibleUnits){var i,o,a=[];(r=((null===(o=(i=this.config).sensibleUnits)||void 0===o?void 0:o.call(i,n,a))||a).map(e.from)).push(this)}return(null!==r&&void 0!==r?r:this.compatibleUnits.filter((function(e){return e.comfortableWith(t.conversionFnTo(e)(n)).comfortable}))).sort((function(e,n){var t=e.toBase(1),r=n.toBase(1);return t===r?e.order-n.order:r-t}))}},{key:"comfortableWith",value:function(n){var t,r,i=null===(r=(t=this.config).isComfortable)||void 0===r?void 0:r.call(t,n);return void 0===i||"boolean"===typeof i?{comfortable:null!==i&&void 0!==i?i:n>=1&&n<1e3,suggested:null}:{comfortable:!1,suggested:e.from(i)}}}])&&N(n.prototype,t),r&&N(n,r),e}();M(L,"unitsArray",Object.entries(C({},U,{abs:{name:"abs",type:"abs",format:function(e){var n=e.formattedNumber;return e.displayedWithName,[["value",n]]},isBase:!0,isComfortable:function(e){return!0}},raw:{name:"raw",type:"raw",format:function(e){return[["unit",e.value]]},isBase:!0,isComfortable:function(e){return!0}},_:{name:"_",type:"_",isBase:!0}})).map((function(e){var n=D(e,2),t=n[0],r=n[1];return[t,new L(q({label:t},r))]}))),M(L,"units",Object.fromEntries(L.unitsArray)),M(L,"from",(function(e){var n,t,r;if(t=e,null!=(r=L)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](t):t instanceof r)return e;var i="undefined"!==typeof e&&L.units[e]||(null===(n=L.unitsArray.find((function(n){var t,r,i=D(n,2),o=(i[0],i[1]);return o.alias===e||(null===(t=o.alias)||void 0===t||null===(r=t.includes)||void 0===r?void 0:r.call(t,e))})))||void 0===n?void 0:n[1]);return i||(console.warn("Unit ".concat(e," not defined, using absolute Unit")),L.units.abs)})),M(L,"convert",(function(e,n,t){return L.from(e).conversionFnTo(n)(t)})),M(L,"resolveCommonAncestor",(function(e,n){for(var t=L.from(e),r=L.from(n),i=t._parentChain,o=r._parentChain,a=function(e){var n=W(i),t=W(o);return n.forEach((function(e,t){return e._parentChain=e._parentChain||new Set(n.slice(t))})),t.forEach((function(e,n){return e._parentChain=e._parentChain||new Set(t.slice(n))})),{commonAncestor:e,upChain:n,downChain:t}};;){if(i.add(t),o.add(r),i.has(r))return a(r);if(o.has(t))return a(t);if(t.isBase&&r.isBase)return a(t===r||t.equivalencySymbol&&t.equivalencySymbol===r.equivalencySymbol?[t,r]:void 0);t.isBase||(t=t.parent),r.isBase||(r=r.parent)}})),M(L,"createAbsolute",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.endsWith("s")?e.slice(0,-1):e;return new L({label:e,name:e,format:function(t){var r=t.formattedNumber,i=t.displayedWithName,o=t.value;return i?[["value",r]]:[["value",r],["unit",1===o?n:e,!0]]},isBase:!0,isComfortable:function(e){return!0}})}));var Q=L;function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function F(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){H(e,n,t[n])}))}return e}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(n)?this.config={value:n[0],unit:n[1],sensibleUnits:n[2]}:this.config=n,this.config.unit=Q.from(this.config.unit||Q.units.abs),this.config.sensibleUnits&&(this.config.sensibleUnits=this.config.sensibleUnits.map((function(e){return Q.from(e)})),this.config.sensibleUnits.includes(this.config.unit)||this.config.sensibleUnits.unshift(this.config.unit)),"number"!==typeof this.config.value&&this.config.unit.parse&&(this.config.value=this.config.unit.parse(this.config.value))}var n,t,i;return n=e,t=[{key:"value",get:function(){return this.config.value}},{key:"unit",get:function(){return this.config.unit}},{key:"comfort",get:function(){var e,n,t=this.unit.comfortableWith(this.value);return null===(n=null===(e=this.config.sensibleUnits)||void 0===e?void 0:e.includes(t.suggested))||void 0===n||n||delete t.suggested,t}},{key:"sensibleUnits",get:function(){return this.config.sensibleUnits||this.unit.sensibleUnitsWith(this.value)}},{key:"betterUnitChoice",get:function(){var e=this.comfort;if(!e.comfortable){var n=this,t=e.suggested||this.sensibleUnits.find((function(e){return e!==n.unit&&n.convert(e).comfort.comfortable}));if(t)return t}return null}},{key:"convert",value:function(n){var t=Q.from(n);if(t===this.unit)return this;var r=this.unit.conversionFnTo(t)(this.value);return new e(R({},this.config,{value:r,unit:t}))}},{key:"transform",value:function(n){return n?new e(R({},this.config,{value:n(this.value)})):this}},{key:"formatted",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.displayedWithName,i=void 0!==t&&t,o=this,a=i?"_formattedDisplayedWithName":"_formattedDisplayedWithoutName";if(this[a])return this[a];var u=Object.entries({"\xbc":.25,"\xbd":.5,"\xbe":.75,"\u2153":.3333333333333333,"\u2154":.6666666666666666}),s=Math.floor(this.value),c=Math.floor(Math.log10(this.value)),l=Math.sign(c),f=this.value?l>-1?c+1:c:0,y=$(this.unit.snapIntervalConfig.find((function(e){return $(e,1)[0]<=f})),2),d=(y[0],y[1]),h=d.reduce((function(e,n){var t=o,r=$([Math.floor(o.value/n)*n,Math.ceil(o.value/n)*n].map((function(e){return[Math.abs(t.value-e),e]})).sort((function(e,n){return $(e,1)[0]-$(n,1)[0]}))[0],2),i=r[0],a=r[1];return i<e.remainder||i===e.remainder&&a<e.snapPoint?{remainder:i,snapInterval:n,snapPoint:a}:e}),{remainder:1/0,snapInterval:1/0,snapPoint:this.value}),m=h.snapPoint,v=f>=3,p=m%1,b=!v&&p>1e-4&&(null===(e=u.find((function(e){var n=$(e,2),t=(n[0],n[1]);return Math.abs(p-t)<=1e-6})))||void 0===e?void 0:e[0]),g=!v&&b&&(s?"".concat(s).concat(b):b),O=v?m:g||r(m,2);return this.unit.format?this[a]=this.unit.format({value:this.value,formattedNumber:O,displayedWithName:i}):this[a]=[this.unit.prefix&&["unit",this.unit.prefix],["value",O],this.unit.suffix&&["unit",this.unit.suffix]].filter((function(e){return e})),this[a]}}],t&&F(n.prototype,t),i&&F(n,i),e}();H(J,"from",(function(e){return n=e,(null!=(t=J)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t)?e:new J(e);var n,t}));var Y=J;function z(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var X=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.recipe=n,this.hasQuantity&&(this.displayUnit=this.quantity.unit)}var n,t,r;return n=e,t=[{key:"id",get:function(){return this.config.id}},{key:"name",get:function(){return this.config.name}},{key:"colour",get:function(){return this.config.colour||"accent"}},{key:"comment",get:function(){return this.config.comment}},{key:"hasQuantity",get:function(){return!!this.config.quantity}},{key:"quantity",get:function(){if(this.hasQuantity)return Y.from(this.config.quantity)}},{key:"setDisplayUnit",value:function(e){this.hasQuantity&&(this.displayUnit=e,this.recipe.ingredientUpdated())}},{key:"displayQuantity",get:function(){var e;if(this.hasQuantity){var n,t=!this.config.doNotScale&&(null!==(n=null===(e=this.config.scaleFn)||void 0===e?void 0:e.bind(null,this.recipe))&&void 0!==n?n:this.recipe.scaleFn);return this.quantity.transform(t).convert(this.displayUnit)}}},{key:"withScale",value:function(n){if(!this.hasQuantity)return this;var t=new e(this.recipe,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){K(e,n,t[n])}))}return e}({},this.config,{quantity:this.quantity.transform((function(e){return n*e}))}));return t.recipeUpdated(),t}},{key:"setHover",value:function(e){this.hover=e,this.recipe.ingredientUpdated()}},{key:"setQuantity",value:function(e){this.config.quantity=Y.from(e),this.displayUnit=this.config.quantity.unit,this.recipe.ingredientUpdated()}},{key:"recipeUpdated",value:function(){if(this.hasQuantity){var e=this.displayQuantity.betterUnitChoice;e&&this.setDisplayUnit(e)}}}],t&&z(n.prototype,t),r&&z(n,r),e}(),G=X;function V(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=n,this.ingredients={},this.listeners=new Set}var n,t,r;return n=e,(t=[{key:"scale",get:function(){return this.config.scale||1}},{key:"scaleFn",get:function(){var e=this;return function(n){return"number"===typeof n?n*e.scale:n}}},{key:"setScale",value:function(e){this.config.scale!==e&&(this.config.scale=e,this.recipeUpdated())}},{key:"hasIngredient",value:function(e){return!!this.ingredients[e]}},{key:"addIngredient",value:function(e){var n=new G(this,e);if(this.hasIngredient(n.id))throw"Ingredient with id ".concat(id," already defined");return this.ingredients[n.id]=n,n.recipeUpdated(),this.ingredients[n.id]}},{key:"removeIngredient",value:function(e){delete this.ingredients[e]}},{key:"getIngredient",value:function(e){return this.ingredients[e]}},{key:"addListener",value:function(e){this.listeners.add(e)}},{key:"removeListener",value:function(e){this.listeners.delete(e)}},{key:"recipeUpdated",value:function(){var e=!0,n=!1,t=void 0;try{for(var r,i=this.listeners.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)(0,r.value)()}catch(l){n=!0,t=l}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}var o=!0,a=!1,u=void 0;try{for(var s,c=Object.values(this.ingredients)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)s.value.recipeUpdated()}catch(l){a=!0,u=l}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}}},{key:"ingredientUpdated",value:function(){var e=!0,n=!1,t=void 0;try{for(var r,i=this.listeners.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)(0,r.value)()}catch(o){n=!0,t=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}}])&&V(n.prototype,t),r&&V(n,r),e}(),ee=t(5893),ne=t(7294),te=t(6556);function re(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function oe(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ae(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return re(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return re(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ue=function(e){var n=e.quantity,t=e.isInteractive,r=e.isHovered,i=e.displayedWithName,o=e.className,a=oe(e,["quantity","isInteractive","isHovered","displayedWithName","className"]),u=n.formatted({displayedWithName:i}),s=n.unit,c=u.map((function(e,n){var t=ae(e,4),r=t[0],i=t[1],o=t[2],a=t[3],u=void 0===a?s.name:a;return{value:function(){return(0,ee.jsx)("span",{className:te.value,children:i},"value-".concat(i,"-").concat(n))},unit:function(){return(0,ee.jsxs)(ne.Fragment,{children:[(0,ee.jsx)("span",{style:o?void 0:{display:"inline-block",width:"1px"},children:" "}),(0,ee.jsx)("span",{className:te.unit,title:u,children:i})]},"unit-".concat(i,"-").concat(n))},raw:function(){return i}}[r]()}));return(0,ee.jsx)("span",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ie(e,n,t[n])}))}return e}({className:[te.quantity,o,t&&te.interactive,r&&te.hover].filter((function(e){return e})).join(" "),style:{"--unit-accent":"var(--colours-".concat(s.colour,")")}},a,{children:c}))},se=t(6424);function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function le(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var fe=function(e){var n=e.ingredient,t=e.displayedWithName,r=void 0===t||t,i=e.displayedWithQuantity,o=void 0===i||i,a=e.quantityInteractive,u=void 0!==a&&a,s=e.highlightOnHover,c=void 0===s?void 0:s,l=e.className,f=e.onNameClick,y=e.children,d=le(e,["ingredient","displayedWithName","displayedWithQuantity","quantityInteractive","highlightOnHover","className","onNameClick","children"]),h=n.displayQuantity,m=n.hover===c,v=u&&(null===h||void 0===h?void 0:h.sensibleUnits),p=v&&v.length>1,b=p&&function(){var e=(v.indexOf(h.unit)+1)%v.length;n.setDisplayUnit(v[e])},g=r&&(0,ee.jsxs)("span",{style:{"--ingredient-accent":"var(--colours-".concat(n.colour,")"),cursor:f?"pointer":void 0},onClick:f,children:[" ",(0,ee.jsx)("span",{className:se.name,children:y||n.name}),n.comment&&(0,ee.jsxs)("span",{className:se.comment,children:[" ",["-","+","(","[","/"].includes(n.comment[0])?"":"- ",n.comment]})]});return(0,ee.jsxs)("span",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ce(e,n,t[n])}))}return e}({className:[l,m&&se.hover].filter((function(e){return e})).join(" ")},d,{children:[o&&h&&(0,ee.jsx)(ue,{quantity:h,isInteractive:p,isHovered:m,displayedWithName:r,onClick:b||void 0,onMouseDown:function(e){return e.detail>=2&&e.preventDefault()}}),g]}))},ye=t(9084);function de(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function he(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var me=function(e){var n=e.id;return"saved-checked-".concat(n)},ve=function(e){var n=e.ingredient,t=e.alternative,r=(e.isAlternative,e.displayedWithQuantity),i=e.children,o=(0,ne.useState)(!1),a=o[0],u=o[1];return(0,ne.useEffect)((function(){return u(function(e){return"true"===sessionStorage.getItem(me(e))}(n))}),[]),(0,ne.useEffect)((function(){return function(e,n){return sessionStorage.setItem(me(e),n)}(n,a)}),[a]),(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(fe,{onMouseEnter:function(){return n.setHover("definition")},onMouseLeave:function(){return n.setHover(!1)},onNameClick:function(){return!a&&u(!0)},ingredient:n,displayedWithName:!0,displayedWithQuantity:r,quantityInteractive:!a,highlightOnHover:"link",className:"".concat(ye.checkable," ").concat(a&&ye.checked),onClick:function(){return a&&u(!1)},children:i}),t&&(0,ee.jsxs)("span",{className:ye.alternative,children:[" or ",(0,ne.cloneElement)(t,{isAlternative:!0})]})]})},pe=function(e){return function(n){var t=n.id,r=n.alternative,i=n.isAlternative,o=void 0!==i&&i,a=n.display,u=void 0===a||a,s=n.displayedWithQuantity,c=n.children,l=he(n,["id","alternative","isAlternative","display","displayedWithQuantity","children"]),f=e.getIngredient(t)||e.addIngredient(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){de(e,n,t[n])}))}return e}({id:t},l)),y=(0,ne.useState)(),d=(y[0],y[1]);return(0,ne.useEffect)((function(){var n=function(){return d({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),u?(0,ne.useMemo)((function(){return(0,ee.jsx)(ve,{ingredient:f,alternative:r,isAlternative:o,displayedWithQuantity:s,children:c})}),[f,f.displayUnit,f.hover,e.scale,c,r,o,s]):null}},be=t(1239);function ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Oe(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var je=function(e){var n=e.ingredient,t=e.quantityOnly,r=void 0!==t&&t,i=e.inlineQuantity,o=void 0===i?r:i,a=e.children;return(0,ee.jsxs)("span",{className:[be.link,n.hover&&be.hover].filter((function(e){return e})).join(" "),style:{"--ingredient-accent":"var(--colours-".concat(n.colour,")")},onMouseEnter:function(){return n.setHover("link")},onMouseLeave:function(){return n.setHover(!1)},children:[n.hasQuantity&&(0,ee.jsxs)(ee.Fragment,{children:[!o&&(0,ee.jsx)("span",{className:be.mousetrap}),(0,ee.jsx)(fe,{ingredient:n,displayedWithName:!1,quantityInteractive:!0,className:!o&&be.quantity})]}),!r&&(0,ee.jsxs)("span",{className:be.label,children:[o?" ":"",a||n.name.toLowerCase()]})]})},we=function(e){return function(n){var t=n.id,r=n.ingredient,i=void 0===r?e.getIngredient(t):r,o=n.doNotSubscribe,a=n.scale,u=void 0===a?1:a,s=Oe(n,["id","ingredient","doNotSubscribe","scale"]);if(!i)throw"Ingredient ".concat(t," not defined");var c=(0,ne.useMemo)((function(){return 1===u?i:i.withScale(u)}),[i,i.displayUnit,i.hover,e.scale,u]),l=(0,ne.useState)(),f=(l[0],l[1]);return(0,ne.useEffect)((function(){if(!o){var n=function(){return f({})};return e.addListener(n),function(){return e.removeListener(n)}}}),[]),(0,ne.useMemo)((function(){return(0,ee.jsx)(je,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ge(e,n,t[n])}))}return e}({ingredient:c},s))}),[c,c.displayUnit,c.hover,e.scale])}},ke=we,Se=t(2669);function xe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Pe(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ce(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return xe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ie=function(e){return{string:r(e,2)+"",number:e}},Ae=function(e){return{string:r(e,2)+"x",number:e}},Ue=function(e,n,t,r){var i;if(1===r.length)return 1;var o;return e+(null!==(o=null===(i=[[.5,"."],[.75,"1"]].find((function(e){var t=Ce(e,2);t[0];return t[1].includes(n)})))||void 0===i?void 0:i[0])&&void 0!==o?o:1)},Ee=function(e){var n=e.scale,t=e.servingsAsWritten,i=e.servingsChanged,o=e.scaleChanged,a=e.plural,u=e.singular,s=void 0===u?a.endsWith("s")?a.slice(0,-1):a:u,c=(0,ne.useRef)(),l=(0,ne.useRef)(),f=(0,ne.useRef)(),y=(0,ne.useRef)(),d=(0,ne.useRef)(),h=n*t,m=1!==h?a:s,v=(0,ne.useState)(Ie(h)),p=v[0],b=v[1],g=(0,ne.useState)(Ae(n)),O=g[0],j=g[1],w=function(e){return b({string:e+"",number:+e})},k=function(e){return j({string:e+"",number:+(e+"").replace(/x$/,"")})};(0,ne.useEffect)((function(){h!==y.current&&b(Ie(h))}),[h]),(0,ne.useEffect)((function(){n!==d.current&&j(Ae(n))}),[n]),(0,ne.useEffect)((function(){y.current=p.number,i(p)}),[p]),(0,ne.useEffect)((function(){d.current=O.number,o(O)}),[O]);var S=r(h,2)+"";(0,ne.useEffect)((function(){var e,n=function(e){var n=l.current.value||l.current.placeholder;"ArrowUp"!==e.key&&"="!==e.key&&"+"!==e.key||(e.preventDefault(),e.stopPropagation(),w(Math.floor(n)+1)),"ArrowDown"!==e.key&&"-"!==e.key&&"_"!==e.key||(e.preventDefault(),e.stopPropagation(),n>1&&w(Math.ceil(n)-1)),"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),l.current.blur())};return null===(e=c.current)||void 0===e||e.addEventListener("keydown",n),function(){var e;return null===(e=c.current)||void 0===e?void 0:e.removeEventListener("keydown",n)}}),[c.current]),(0,ne.useEffect)((function(){var e,n=function(e){var n=(e.target.value||e.target.placeholder).replace(/x$/,"");"ArrowUp"!==e.key&&"="!==e.key&&"+"!==e.key||(e.preventDefault(),k(Math.floor(n)+1+"x")),"ArrowDown"!==e.key&&"-"!==e.key&&"_"!==e.key||(e.preventDefault(),n>1&&k(Math.ceil(n)-1+"x")),"Enter"===e.key&&(e.preventDefault(),e.target.blur())};return null===(e=f.current)||void 0===e||e.addEventListener("keydown",n),function(){var e;return null===(e=f.current)||void 0===e?void 0:e.removeEventListener("keydown",n)}}),[f.current]);var x=(p.string||S).split("").reduce(Ue,0),_=O.string.split("").reduce(Ue,0);return(0,ee.jsx)("div",{className:Se.container,children:(0,ee.jsxs)("div",{className:Se.content,children:[(0,ee.jsxs)("h3",{className:Se.title,children:[(0,ee.jsx)("span",{className:Se.icon,children:"\ud83d\udd22"})," Recipe Makes"]}),(0,ee.jsxs)("div",{ref:c,className:Se.control,style:{"--digits":x},children:[(0,ee.jsx)("input",{ref:l,type:"text",inputMode:"decimal","aria-label":"Number of ".concat(a),className:Se.input,value:p.string,placeholder:S,onChange:function(e){return w(e.target.value)},onBlur:function(e){if(!p.number){var n=p.string.replace(/[^\d\.]/g,"");b(Ie(+n?n:h))}}}),(0,ee.jsx)("input",{type:"text",className:Se.servingsName,style:{"--maxLetters":Math.max(a.length,s.length),"--letters":m.length},value:m,onChange:function(){return 0},tabIndex:"-1",role:"presentation",onClick:function(){var e=l.current.value.length;l.current.setSelectionRange(e,e),l.current.focus()}}),(0,ee.jsxs)("div",{className:Se.incDec,children:[(0,ee.jsx)("button",{onClick:function(){return w(Math.floor(l.current.value||l.current.placeholder)+1)},children:"+"}),(0,ee.jsx)("button",{onClick:function(){return w(Math.ceil(l.current.value||l.current.placeholder)-1)},disabled:h<=1,children:"\u2212"})]})]}),(0,ee.jsx)("span",{className:Se.equals,children:"="}),(0,ee.jsx)("input",{ref:f,type:"text",inputMode:"decimal","aria-label":"recipe scale factor",className:Se.recipeScaleInput,style:{"--digits":_},value:O.string,placeholder:"1x",onChange:function(e){return k(e.target.value)},onMouseDown:function(e){if(document.activeElement!==e.target){e.preventDefault();var n=(e.target.value||e.target.placeholder).replace(/x$/,"").length;e.target.setSelectionRange(n,n),e.target.focus()}},onClick:function(e){return e.preventDefault()},onBlur:function(e){if(!O.number||!O.string.endsWith("x")){var t=O.string.replace(/[^\d\.]/g,"");+t?k(t+"x"):j(Ae(n))}}})]})})},Ne=function(e){return function(n){var t=n.servings,r=Pe(n,["servings"]),i=function(n){n.string;var r=n.number;if(!(r<=0)){var i=r/t;e.setScale(i)}},o=function(n){var t=n.string,r=n.number;e.scale===r||t.endsWith(".x")||!t.endsWith("x")||r<=0||isNaN(r)||e.setScale(r)},a=(0,ne.useState)(),u=(a[0],a[1]);return(0,ne.useEffect)((function(){var n=function(){return u({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),(0,ne.useMemo)((function(){return(0,ee.jsx)(Ee,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){_e(e,n,t[n])}))}return e}({servingsAsWritten:t,scale:e.scale,servingsChanged:i,scaleChanged:o},r))}),[e.scale,t])}};function Me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function qe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Me(e,n,t[n])}))}return e}function De(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var We=function(e){var n=e.IngredientLink,t=e.ingredient,r=De(e,["IngredientLink","ingredient"]);return(0,ee.jsx)(n,qe({ingredient:t,quantityOnly:!0,wrapped:!0},r))},Be=function(e){var n=we(e);return function(t){var r=t.id,i=void 0===r?Math.random()+"":r,o=t.display,a=void 0===o||o,u=t.shouldScale,s=void 0!==u&&u,c=t.quantity,l=De(t,["id","display","shouldScale","quantity"]),f=(0,ne.useRef)(i).current,y=e.getIngredient(f);(0,ne.useEffect)((function(){y&&!y.hasQuantity&&c&&y.setQuantity(c)}),[y]);var d=y||e.addIngredient({id:f,doNotScale:!s,quantity:c}),h=(0,ne.useState)(),m=(h[0],h[1]);return(0,ne.useEffect)((function(){var n=function(){return m({})};return e.addListener(n),function(){return e.removeListener(n)}}),[]),a?(0,ne.useMemo)((function(){return(0,ee.jsx)(We,qe({IngredientLink:n,ingredient:d},l))}),[d,d.displayUnit,d.quantity,e.scale]):null}},Le=function(e){var n=new Z(e||{});return{recipe:n,IngredientDefinition:pe(n),IngredientLink:ke(n),ServingsControl:Ne(n),InlineQuantity:Be(n)}}},9084:function(e){e.exports={checkable:"styles_checkable__W_cSm",checked:"styles_checked__xhOkN",alternative:"styles_alternative__bnIbH"}},1239:function(e){e.exports={link:"styles_link__m53bG",label:"styles_label__MIwYh",quantity:"styles_quantity__81sYR",hover:"styles_hover__tS5S6",mousetrap:"styles_mousetrap__tb9PN"}},6424:function(e){e.exports={name:"styles_name__lSuFF",hover:"styles_hover__vuuzx",comment:"styles_comment__ADaEE"}},6556:function(e){e.exports={value:"styles_value__0VJUJ",unit:"styles_unit__A1j7E",quantity:"styles_quantity__UsJtc",interactive:"styles_interactive__KwCoA"}},2669:function(e){e.exports={container:"styles_container__JrI1v",content:"styles_content__uosqR",title:"styles_title__L0hhr",icon:"styles_icon__JsnCd",control:"styles_control__mDFpu",input:"styles_input__vqXnk",servingsName:"styles_servingsName__HuX_D",incDec:"styles_incDec__twy_r",equals:"styles_equals__RUzEB",recipeScaleInput:"styles_recipeScaleInput__otYY4"}},1151:function(e,n,t){"use strict";t.d(n,{ah:function(){return o}});var r=t(7294);const i=r.createContext({});function o(e){const n=r.useContext(i);return r.useMemo((()=>"function"===typeof e?e(n):{...n,...e}),[n,e])}}}]);